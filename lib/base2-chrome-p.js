/*
  base2 - copyright 2007-2009, Dean Edwards
  http://code.google.com/p/base2/
  http://www.opensource.org/licenses/mit-license.php

  Contributors:
    Doeke Zanstra
*/
new function(_H){base2.global.chrome=new base2.Package(this,{name:"chrome",version:"0.5",imports:"Enumerable,Function2,DOM,jsb",exports:"Popup,MenuList,ToolTip,dropdown,combobox,number,range,progressbar,slider,spinner,timepicker,datepicker,weekpicker,monthpicker,colorpicker",parent:base2.jsb});eval(this.imports);EventTarget.addEventListener(document,"textresize",function(){Array2.batch(document.getElementsByTagName("input"),function(a,b){var c=a.className.replace(/^.*jsb\-(\w+).*$/,"$1"),d=chrome[c];if(d)d.layout(a)},100)},false);var PX="px";var _l="\x5factive",_B="\x5fhover",_d="\x5ffocus",_8="\x5ftimer";var _3={},_r={onfocus:function(a,b){if(!a.onscroll){a.scrollTop=0;a.onscroll=_s}this.base(a,b)}};function _s(){this.scrollTop=0};function _e(a){this.layout(a)};function _m(a){if(a.value==""||this.getValueAsDate(a)){this.removeClass(a,"jsb-error")}else{this.addClass(a,"jsb-error")}};var _5="clientWidth",_4="clientHeight";var _C=/^on(DOM\w+|[a-z]+)$/,_f=Traversal.TEXT;function pad(a,b){return"0000".slice(0,(b||2)-String(a).length)+a};if(window.pageXOffset==null){var _n=document.documentElement,_t="scrollLeft",_u="scrollTop"}else{_n=window;_t="pageXOffset";_u="pageYOffset"}if(detect("(style."+ViewCSS.VENDOR+"BorderImage!==undefined||style.borderImage!==undefined)")){base2.userAgent+=";borderImage=true"}jsb.theme=new Base({detect:K("default"),"@Windows":{detect:function(){return _9[_a()]||"royale"},"@NT6":{detect:function(){return _9[_a()]||"aero"}},"@NT5":{detect:function(){return _9[_a()]||"royale"},"@MSIE":{detect:function(){var a=_9[_a()],b=document.documentElement.currentStyle.scrollbarFaceColor;if(a=="classic"){if(b=="#ffffff")return"classic/contrast/white";if(b=="#88c0b8")return"classic/marine"}return a||({"#ece9d8":"luna/blue","#e0dfe3":"luna/silver","#ebe9ed":"royale"}[b])||"royale"}}},"@MSIE5":{detect:K("classic")}},"@Linux":{detect:function(){return _D[_a()]||"default"}},"@Webkit([1-4]|5[01]|52[^89])|Camino|Mac":{detect:K("aqua"),"@Chrome|Arora":{detect:K("luna/blue")}}});var _9={"#0054e3":"luna/blue","#8ba169":"luna/olive","#c0c0c0":"luna/silver","#335ea8":"royale","#5e81bc":"royale","#99b4d1":"aero","#c4cbde":"aero","#343434":"zune","#c09f79":"human","#83a67f":"smooth","#000080":"classic","#0a246a":"classic/standard","#800000":"classic/brick","#008080":"classic/desert","#588078":"classic/eggplant","#5a4eb1":"classic/lilac","#484060":"classic/plum","#808000":"classic/wheat","#800080":"classic/contrast/black","#000000":"classic/contrast/white","#0000ff":"classic/contrast/high1","#00ffff":"classic/contrast/high2"},_D={"#c4c6c0":"clearlooks","#eae8e3":"clearlooks","#dfe4e8":"clearlooks","#eaeaea":"clearlooks","#edeceb":"clearlooks","#efebe7":"human"};var rgba=rgb;jsb.theme.toString=K(jsb.theme.detect()||"default");base2.userAgent+=";theme="+jsb.theme;function rgb(b,c,d){function e(a){return(a<16?"0":"")+a.toString(16)};return"#"+e(b)+e(c)+e(d)};function _a(){var a=document.createElement("input");var b=behavior.querySelector("body,head");b.appendChild(a);a.style.color="ActiveCaption";var c=a.style.color;if(!_9[c]){c=ViewCSS.getComputedPropertyValue(document.defaultView,a,"color");if(/rgb/.test(c))c=eval(c)}b.removeChild(a);return c};var _v={onfocus:function(d){this.base.apply(this,arguments);var e=this,f;if(!shim.control){shim.control=document.createElement("!");document.body.insertBefore(shim.control,document.body.firstChild);shim.attach(shim.control)}shim.element=d;shim.behavior=e;var g=shim.control.runtimeStyle;g.cssText="position:absolute;border:0;display:none;background-position-x:right";g.pixelHeight=d.clientHeight;g.pixelWidth=e.IMAGE_WIDTH;g.backgroundImage=d.currentStyle.backgroundImage;shim.layout();d.attachEvent("onpropertychange",h);d.attachEvent("onfocusout",function(){d.detachEvent("onpropertychange",h);d.detachEvent("onfocusout",arguments.callee);d.scrollLeft=9999;delete shim.element;g.display="none";detachEvent("onresize",j)});function h(a){if(a.propertyName=="value")d.scrollLeft=9999};function i(){var a=e.getOffsetFromBody(d),b=d.getBoundingClientRect(),c=b.right-b.left-d.offsetWidth;g.pixelLeft=a.left+c+d.clientWidth-e.IMAGE_WIDTH+d.clientLeft;g.pixelTop=a.top+d.clientTop;f=null};function j(){if(!f)f=setTimeout(i,50)};attachEvent("onresize",j);i();setTimeout(function(){g.display=""},1)},onmouseover:_w,onmouseout:_w,onmouseup:function(a){this.base.apply(this,arguments);if(a==shim.element)shim.layout()},onkeydown:function(a,b,c){this.base(a,b,c);if(shim.element==a)shim.layout()},onkeyup:function(a,b,c){if(!Popup.current&&c==35){a.scrollLeft=9999}else{this.base(a,b,c)}if(shim.element==a)shim.layout()},layout:function(a,b){this.base(a,b);if(a==shim.element){shim.layout()}}};var shim=behavior.extend({onmousedown:_x,onmousemove:_x,onmouseover:_y,onmouseout:_y,layout:function(){if(this.element){this.control.runtimeStyle.backgroundPositionY=this.element.currentStyle.backgroundPositionY}}});function _x(a,b,c,d,e,f){if(b.type=="mousedown"){b.preventDefault()}b.stopPropagation();if(this.element){var g=ElementView.getOffsetXY(this.element,b.clientX,b.clientY);this.behavior["on"+b.type](this.element,b,g.x,g.y,e,f)}this.layout()};function _w(a,b){if(!(a==shim.element&&b.relatedTarget==shim.control)){this.base(a,b)}if(shim.element==a)shim.layout()};function _y(a,b){if(this.element&&b.relatedTarget!=this.element){this.behavior["on"+b.type](this.element,b)}this.layout()};var Popup=Base.extend({constructor:function(){var a=this.body=this.createBody();a.className="jsb-popup";var b=this.appearance;if(b&&b!="popup"){a.className+=" jsb-"+b}var c=this;for(var d in c){if(_C.test(d)){EventTarget.addEventListener(a,d.slice(2),this,/onblur|onfocus/.test(d))}}},appearance:"popup",width:"auto",height:"auto",element:null,body:null,position:"below",scrollX:false,scrollY:false,handleEvent:function(a){switch(a.type){case"mouseover":case"mouseout":if(a.target==this.body)return}this["on"+a.type](a)},createBody:function(){return document.createElement("div")},getRect:function(){var a=document.documentElement,b=this,c=b.body,d=b.element,e=ElementView.getBoundingClientRect(d),f=0,g=b.position=="below"?d.offsetHeight-1:-1-d.offsetHeight,h=b.width,i=b.height;if(h=="base"){h=d.offsetWidth}if(h=="auto"||i=="auto"){if(i=="auto"){i=c.scrollHeight+2;var j=b.getUnitHeight();if(b.scrollY){i=Math.min(i,Math.max(a.clientHeight-e.bottom-2,e.top-2))}if(j>1)i=2+Math.floor(i/j)*j}if(h=="auto"){h=c.scrollWidth+2;if(i<c.scrollHeight+2)h+=22;if(b.scrollX){h=Math.min(h,Math.max(a.clientWidth-e.left-2,e.right-2))}h=Math.max(h,d.offsetWidth)}}if(i>a.clientHeight-e.bottom&&i<e.bottom){g=-i}if(h>a.clientWidth-e.right&&h<e.right){f=d.offsetWidth-h}return new Rect(f,g,h,i)},getUnitHeight:K(1),hide:function(){var a=this.body.parentNode;if(a)a.removeChild(this.body);delete this.element},isOpen:function(){return!!this.body.parentNode},layout:Undefined,movesize:function(){document.body.appendChild(this.body);var a=this.body.style,b=this.getRect(),c=ElementView.getBoundingClientRect(this.element);a.left=(b.left+c.left+_n[_t])+PX;a.top=(c.top+b.top+_n[_u])+PX;a.width=(b.width-2)+PX;a.height=(b.height-2)+PX},querySelector:function(a){return NodeSelector.querySelector(this.body,a)},querySelectorAll:function(a){return NodeSelector.querySelectorAll(this.body,a)},render:function(a){this.body.innerHTML=a||""},setUnselectable:function(a){a.unselectable="on";a.style.userSelect="none";a.style[ViewCSS.VENDOR+"UserSelect"]="none"},show:function(a){this.element=a;this.render();this.style();this.movesize();this.layout();this.body.style.visibility="visible"},style:function(){var b=this.body.style;b.cssText="left:-999px;top:-999px;";var c=behavior.getComputedStyle(this.element);forEach.csv("backgroundColor,color,fontFamily,fontWeight,fontStyle",function(a){b[a]=c[a]});b.fontSize=parseInt(c.fontSize)+PX;if(b.backgroundColor=="transparent"){b.backgroundColor="white"}},"@MSIE[56]":{hide:function(){this.base();if(this._g.parentNode){document.body.removeChild(this._g)}},show:function(a){this.base(a);if(!this._g){var b=this._g=document.createElement("iframe"),c=b.style,d=this.body,e=d.style;c.cssText="position:absolute;z-index:999998!important";b.frameBorder="0";c.left=e.left;c.top=e.top;c.pixelWidth=d.offsetWidth;c.pixelHeight=d.offsetHeight}document.body.appendChild(this._g)}}});var PopupWindow=Popup.extend({constructor:function(a){this.base();this.owner=a},controls:null,owner:null,scrollX:true,scrollY:true,onkeydown:function(a){switch(a.keyCode){case 27:this.hide();break;case 9:if(!this.tab(a.shiftKey?-1:1))a.preventDefault();break}},isActive:function(){return this._2||Element.matchesSelector(this.body,":hover")},hide:function(){PopupWindow.current=null;forEach(this.controls,function(a){if(a.blur)a.blur()});this.base()},show:function(a){this.base(a);PopupWindow.current=this},tab:function(d){if(!this.controls)return true;var e=this,f=this.controls.map(I),g=e.querySelector(":focus");e._2=false;f.unshift(null);try{forEach(f,function(a,b){if(a==g){var c=f[b+d];if(c){e._2=true;c.focus();if(c.select)c.select();throw StopIteration;}else{e.element.focus()}}})}catch(ex){}return!e._2}},{current:null,init:function(){EventTarget.addEventListener(window,"blur",d,false);EventTarget.addEventListener(document,"mousedown",d,false);function d(a){var b=PopupWindow.current,c=a.target;if(b&&c!=document&&c!=b.element&&c!=shim.control&&!Traversal.contains(b.body,c)){b.hide()}}}});var MenuList=PopupWindow.extend({constructor:function(a){this.base(a);this.data={}},appearance:"menulist",onmouseup:function(){this.select(this.currentItem)},onkeydown:function(a){switch(a.keyCode){case 13:this.select(this.currentItem);a.preventDefault();break;case 38:if(this.currentItem){this.highlight(Traversal.getPreviousElementSibling(this.currentItem))}else{this.highlight(Traversal.getFirstElementChild(this.body))}break;case 40:if(this.currentItem){this.highlight(Traversal.getNextElementSibling(this.currentItem))}else{this.highlight(Traversal.getFirstElementChild(this.body))}break;default:this.base(a)}},onmouseover:function(a){this.highlight(a.target)},getUnitHeight:function(){var a=Traversal.getFirstElementChild(this.body);return a?a.offsetHeight:1},highlight:function(a){if(a){this.reset(this.currentItem);this.currentItem=a;with(a.style){backgroundColor=_o;color=_p}}},layout:function(){this.currentItem=null;var a=this.data[this.element.uniqueID];if(a)this.highlight(this.body.childNodes[a.index]);else this.highlight(Traversal.getFirstElementChild(this.body))},render:function(){var d=this.owner.get(this.element,"list"),e="";if(d){if(d.nodeType==1){e=match(d.innerHTML,/<option[^>]*>[^<]+/gi).join("").replace(/<option/gi,'<p unselectable="on"')}else{if(Array2.like(d)){d=Array2.combine(d)}e=reduce(d,function(a,b,c){return a+='<p unselectable="on" value"'+c+'">'+b+'</p>'})}}this.base(e)},reset:function(a){if(a)with(a.style){backgroundColor="";color=""}},select:function(a){var b=Element.getAttribute(a,"value")||trim(a[Traversal.TEXT]),c=this.element;this.data[c.uniqueID]={index:Traversal.getNodeIndex(a),value:b};this.owner.setValue(c,b);c.focus();this.hide()}});var ToolTip=Popup.extend({appearance:"tooltip",text:"",hide:function(){this.base();ToolTip.current=null;clearTimeout(this._h)},render:function(){this.base('<div style="padding:2px">'+this.text+'</div>')},show:function(a,b){var c=this;if(ToolTip.current)ToolTip.current.hide();c.text=b;clearTimeout(c._h);c._h=setTimeout(function(){if(Element.matchesSelector(a,":hover")||Element.matchesSelector(c.body,":hover")){c._h=setTimeout(arguments.callee,ToolTip.TIMEOUT/3)}else{delete c._h;c.hide()}},ToolTip.TIMEOUT);this.base(a);ToolTip.current=c}},{TIMEOUT:3000,current:null});var control=behavior.extend({HORIZONTAL:0,VERTICAL:1,IMAGE_WIDTH:17,states:{normal:0,hover:1,active:2,disabled:3,length:4},allowVertical:false,appearance:"none",onattach:function(a){if(this.isNativeControl!=False&&this.isNativeControl(a)){this.detach(a)}else{if(this.allowVertical&&a[_4]>a[_5]){this.setOrientation(a,this.VERTICAL)}this.layout(a,this.states[a.disabled?"disabled":"normal"])}},onmousedown:function(a,b,c,d){control._2=a;if(!this.isEditable(a))return;control._0=this.hitTest(a,c,d);if(control._0){this.captureMouse(a)}this.layout(a)},onmouseup:function(a,b){delete control._2;if(control._0){delete control._0;this.layout(a)}this.releaseMouse()},onmousemove:function(a,b,c,d){var e=this.hitTest(a,c,d);if(e!=control._1){control._1=e;this.layout(a)}},onmouseover:function(a,b,c,d){control._6=a;control._1=this.hitTest(a,c,d);this.layout(a)},onmouseout:function(a){delete control._0;delete control._1;delete control._6;this.layout(a)},onfocus:function(a){control._b=a;this.layout(a)},onblur:function(a){delete control._b;this.removeClass(a,this.appearance+_d);this.layout(a);if(control.tooltip){control.tooltip.hide()}},getValue:function(a){return a.value},setValue:function(a,b){if(b!=a.value){a.value=b;this.dispatchEvent(a,"change");this.layout(a)}},isActive:function(a){return control._0&&(control._0==control._1)},isEditable:function(a){return!a.disabled&&!a.readOnly},isNativeControl:False,getCursor:function(a){return(control._0||control._1||a!=control._6)?"default":""},syncCursor:function(a){var b=this.getCursor(a),c=a.style;if(c.cursor!=b){c.cursor=b}},getState:K(0),hitTest:function(a,b){var c=false;return c?b<=this.IMAGE_WIDTH:b>=a[_5]-this.IMAGE_WIDTH},setOrientation:function(a,b){if(b==this.VERTICAL){var c="background-image";this.setStyle(a,c,this.getComputedStyle(a,c).replace(/\.png/,"-vertical.png"),true)}else if(a.style.backgroundImage){a.style.backgroundImage=""}},showToolTip:function(a,b){var c=control.tooltip;if(!c){c=control.tooltip=new ToolTip}setTimeout(function(){c.show(a,b)},1)},hasTimer:function(a,b){b=a.uniqueID+(b||_8);return!!_3[b]},startTimer:function(a,b,c){b=a.uniqueID+(b||_8);if(!_3[b]){_3[b]=this.setInterval(this.tick,100,a)}},stopTimer:function(a,b){b=a.uniqueID+(b||_8);if(_3[b]){clearInterval(_3[b]);delete _3[b]}},tick:Undefined,layout:function(a,b){if(b==null)b=this.getState(a);var c=a[_4],d=-this.states.length*(c/2*(c-1)),e=a.style;d-=c*b;var f="right "+d+PX;if(e.backgroundPosition!=f){e.backgroundPosition=f}this.syncCursor(a)},"@Opera":{syncCursor:Undefined}});var dropdown=control.extend({extend:function(a){var b=this.base(a);if(!PopupWindow.ancestorOf(b.Popup)){b.Popup=this.Popup.extend(b.Popup)}return b},"@MSIE.+win":_v,appearance:"dropdown",Popup:PopupWindow,onblur:function(a,b){if(this.isOpen(a)&&!this.popup.isActive())this.hidePopup();this.base(a,b)},"@Opera(8|9.[0-4])":{onblur:function(a,b){if(this.isOpen(a)&&this.popup.isActive()){b.preventDefault()}else{this.base(a,b)}}},onkeydown:function(a,b,c){if(this.isEditable(a)){if(c==40&&!this.isOpen(a)){this.showPopup(a)}else if(this.isOpen(a)){this.popup.onkeydown(b)}}},onmousedown:function(a,b,c){this.base.apply(this,arguments);if(this.isEditable(a)){if(this.hitTest(a,c)){if(this.isOpen(a)){this.hidePopup()}else{this.showPopup(a)}}else{this.hidePopup()}}},getState:function(a){if(a.disabled){var b="disabled"}else if(a.readOnly){b="normal"}else if(a==control._2&&control._0){b="active"}else if(a==control._6&&control._1){b="hover"}else{b="normal"}return this.states[b]},hidePopup:function(a){if(this.popup)this.popup.hide()},isOpen:function(a){var b=this.popup;return b&&b.isOpen()&&b.element==a},showPopup:function(a){if(!this.popup)this.popup=new this.Popup(this);this.popup.show(a)},"@theme=aqua":{"@borderImage":{hitTest:function(a,b){return b>=a.clientWidth}},layout:function(a){this.syncCursor(a)}}});var combobox=dropdown.extend({appearance:"combobox",list:"",get:function(a,b){var c=this.base(a,b);if(c&&b=="list"&&typeof c=="string"){return this.querySelector("#"+c)}return null},"@Opera[91]":{isNativeControl:function(a){return a.nodeName=="INPUT"&&a.list}},Popup:MenuList});var number={min:"",max:"",step:1,value:0,stepScale:1,"@Opera":{get:function(a,b){var c=this.base(a,b);switch(b){case"min":case"max":case"step":if(c==="")return this[b]}return c}},onmousewheel:function(a,b,c){if(this.isEditable(a)&&control._b==a&&a.value!=""){this.increment(a,parseInt(c/120));b.preventDefault()}},convertValueToNumber:parseFloat,convertNumberToValue:String,getValueAsNumber:function(a){return this.convertValueToNumber(a.value)},setValueAsNumber:function(a,b){if(isNaN(b))b=this.value;var c=this.getProperties(a),d=this.convertValueToNumber(c.min),e=this.convertValueToNumber(c.max),f=parseFloat(c.step)||1,g=f*this.stepScale;b=b>e?e:b<d?d:b;b=Math.round(b/g)*g;if(g<1)b=b.toFixed(String(f).replace(/^.*\.|^\d+$/,"").length);this.setValue(a,this.convertNumberToValue(b))},getValueAsDate:function(a){var b=this.convertValueToNumber(a.value);return isNaN(b)?null:new Date(b)},setValueAsDate:function(a,b){this.setValueAsNumber(a,b.valueOf())},getProperties:function(a){if(a==number._E){var b=number._F}else{number._E=a;b=number._F={min:0,max:0,step:0};for(var attr in b){b[attr]=this.get(a,attr)}}return b},increment:function(a,b,c){var d=c?"Block":"Unit";b*=this["get"+d+"Increment"](a);this.setValueAsNumber(a,this.getValueAsNumber(a)+b)},getBlockIncrement:function(a){return this.getUnitIncrement(a)*10},getUnitIncrement:function(a){return(this.get(a,"step")||1)*this.stepScale}};var range=control.extend({implements:[number],min:0,max:100,allowVertical:true,onminchange:_e,onmaxchange:_e,onstepchange:_e,onvaluechange:_e,"@!Opera(8|9.[0-4])":{onchange:null},"@MSIE":_r,"@!theme=aqua":{onfocus:function(a){if(a!=control._2){this.addClass(a,this.appearance+_d)}this.base(a)}},onkeydown:function(a,b,c){if(!this.isEditable(a)||c<33||c>40)return;b.preventDefault();var d=1;switch(c){case 35:var e=1;case 36:this.setRelativeValue(a,e||0);return;case 33:var f=true;break;case 34:f=true;case 37:case 40:d=-1}this.increment(a,d,f)},getProperties:function(a){var b=this.base(a);b.relativeValue=((b.value=parseFloat(a.value)||0)-b.min)/(b.max-b.min);return b},getRelativeValue:function(a){return this.getProperties(a).relativeValue},setRelativeValue:function(a,b){var c=this.getProperties(a);this.setValueAsNumber(a,(c.max-c.min)*b)},increment:function(a,b,c){var d=c?"Block":"Unit";b*=this["get"+d+"Increment"](a);this.setRelativeValue(a,this.getRelativeValue(a)+b)},getBlockIncrement:function(a){var b=this.getUnitIncrement(a);return Math.max(2*b,Math.round(0.1/b)*b)},getUnitIncrement:function(a){var b=this.getProperties(a);return b.step/(b.max-b.min)||this.base(a)},getCursor:K("")});var progressbar=range.extend({HEIGHT:3000,WIDTH:3000,CHUNK_WIDTH:1,CHUNK_HEIGHT:1,"@theme=luna":{CHUNK_WIDTH:10,CHUNK_HEIGHT:10},appearance:"progressbar",onmouseover:null,onmousemove:null,onmouseout:null,hitTest:False,layout:function(a){var b=a[_5]-2,c=a[_4]-2,d=this.getProperties(a).relativeValue;if(c>b){var e=(-b/2)*(b+3)-2;var f=Math.floor(c*d);f=c-Math.round(f/this.CHUNK_HEIGHT)*this.CHUNK_HEIGHT}else{e=Math.floor(b*d)-this.WIDTH;e=Math.round(e/this.CHUNK_WIDTH)*this.CHUNK_WIDTH;f=(-c/2)*(c+3)-2}a.style.backgroundPosition=++e+PX+" "+ ++f+PX}});var slider=range.extend({HORIZONTAL_WIDTH:3000,HORIZONTAL_HEIGHT:21,VERTICAL_WIDTH:22,VERTICAL_HEIGHT:3000,THUMB_WIDTH:11,THUMB_HEIGHT:11,appearance:"slider",onmousedown:function(a,b,c,d,e,f){this.base.apply(this,arguments);if(a.disabled)return;a.focus();b.preventDefault();if(a.readOnly)return;if(control._0){var g=this.getThumbRect(a);slider._c={dx:e-g.left,dy:f-g.top};slider._7=true}else{this.startTimer(a);slider._i=this.getValueByPosition(a,c-this.THUMB_WIDTH/2,d-this.THUMB_HEIGHT/2);slider._j=slider._i<this.getValue(a)?-1:1}},onmouseup:function(a,b){this.base(a,b);if(!this.isEditable(a))return;delete slider._c;if(!slider._7)this.tick(a);this.stopTimer(a);delete slider._i;delete slider._j;delete slider._7},onmousemove:function(a,b,c,d,e,f){if(slider._c){this.setValueByPosition(a,e-slider._c.dx,f-slider._c.dy)}else{this.base.apply(this,arguments)}},"@Opera(8|9.[0-4])":{onmousemove:function(a){if(slider._c){getSelection().collapse(a.ownerDocument.body,0)}this.base.apply(this,arguments)}},layout:function(a,b){if(b==null)b=this.getState(a);var c=this.getThumbRect(a),d=a.style;if(a[_4]>a[_5]){var e=c.left,f=c.top-Math.ceil((this.VERTICAL_HEIGHT-this.THUMB_HEIGHT)/2)-b*this.VERTICAL_HEIGHT}else{e=c.left-Math.ceil((this.HORIZONTAL_WIDTH-this.THUMB_WIDTH)/2)-b*this.HORIZONTAL_WIDTH;f=c.top}var g=e+PX+" "+f+PX;if(d.backgroundPosition!=g){d.backgroundPosition=g}},getThumbRect:function(a){var b=a[_5],c=a[_4],d=this.getProperties(a).relativeValue;if(c>b){return new Rect((b-this.VERTICAL_WIDTH)/2,(c-=this.THUMB_HEIGHT)-Math.floor(c*d),this.VERTICAL_WIDTH,this.THUMB_HEIGHT)}else{return new Rect(Math.floor((b-this.THUMB_WIDTH)*d),Math.floor((c-this.HORIZONTAL_HEIGHT)/2),this.THUMB_WIDTH,this.HORIZONTAL_HEIGHT)}},hitTest:function(a,b,c){if(a.disabled||this.isNativeControl(a))return null;return this.getThumbRect(a).contains(b,c)},getValueByPosition:function(a,b,c){var d=a[_5],e=a[_4],f=this.getProperties(a);if(d>=e){var g=d-this.THUMB_WIDTH;var h=b}else{g=e-this.THUMB_HEIGHT;h=g-c}return(f.max-f.min)*(h/g)},setValueByPosition:function(a,b,c){this.setValueAsNumber(a,this.getValueByPosition(a,b,c))},getState:function(a){if(a.disabled){var b="disabled"}else if(a==control._2&&control._0){b="active"}else if(a==control._b||(a==control._6&&control._1)){b="hover"}else{b="normal"}return this.states[b]},tick:function(a){var b=this.getProperties(a);var c=this.getBlockIncrement(a)*(b.max-b.min);if(Math.abs(slider._i-this.getValue(a))<c){this.setValueAsNumber(a,slider._i);this.stopTimer(a)}else{this.increment(a,slider._j,true)}slider._7=true},"@KHTML|Opera[91]":{isNativeControl:function(a){return a.nodeName=="INPUT"&&a.type=="range"}},"@theme=aqua":{onblur:function(a,b){if(a==slider._q){delete slider._q}this.base(a,b)},onmousedown:function(a,b,c,d){slider._q=a;this.base.apply(this,arguments);if(!this.isEditable(a))return;if(!control._0){this.setValueByPosition(a,c-this.THUMB_WIDTH/2,d-this.THUMB_HEIGHT/2)}this.base.apply(this,arguments)},getState:function(a){if(a.disabled){var b="disabled"}else if(a==control._2&&control._0){b="active"}else if(a==control._b&&a!=slider._q){b="hover"}else{b="normal"}return this.states[b]},startTimer:Undefined}});var spinner=control.extend({implements:[number],"@MSIE.+win":_v,states:{normal:0,up_hover:1,up_active:2,down_hover:3,down_active:4,disabled:5,length:6},appearance:"spinner",onkeydown:function(a,b,c){if(!this.isEditable(a))return;if(!/^(3[348]|40)$/.test(c))return;b.preventDefault();switch(c){case 34:var d=true;break;case 33:d=true;case 38:var e="up"}this.activate(a,e||"down",d)},onkeyup:function(a,b,c){if(!this.isEditable(a))return;if(!/^(3[348]|40)$/.test(c))return;this.stopTimer(a);this.deactivate(a)},onmousedown:function(a){this.base.apply(this,arguments);if(control._0){this.startTimer(a)}},onmouseup:function(a,b){this.stopTimer(a);this.base(a,b)},activate:function(a,b,c){control._0=control._1=b;this.layout(a);spinner._z=c;this.startTimer(a,_l)},deactivate:function(a){this.stopTimer(a,_l);delete control._0;delete control._1;delete spinner._z;this.layout(a)},getState:function(a){if(a.disabled){var b="disabled"}else if(a.readOnly){b="normal"}else if((a==control._6||a==control._b)&&control._0){b=control._0+_l}else if(a==control._6&&control._1){b=control._1+_B}else{b="normal"}return this.states[b]},hitTest:function(a,b,c){if(!this.base(a,b))return null;return c<=(a[_4]/2)?"up":"down"},startTimer:function(a){if(!_3[a.uniqueID+_8]){spinner._j=(control._0=="up")?1:-1;spinner._A=1;this.base(a)}},stopTimer:function(a){if(_3[a.uniqueID+_8]){this.base(a);if(!spinner._7)this.tick(a);delete spinner._7;a.select()}},tick:function(a){this.increment(a,Math.floor(spinner._A*spinner._j),spinner._z);spinner._A*=1.05;spinner._7=true},increment:function(a,b,c){this.base(a,b,c)},"@Opera[91]":{isNativeControl:function(a){return a.nodeName=="INPUT"&&a.type=="number"}}});var timepicker=spinner.extend({appearance:"timepicker",step:60,stepScale:1000,onchange:_m,getBlockIncrement:function(a){return this.getUnitIncrement(a)*60},convertValueToNumber:function(a){return a==""?NaN:Date2.parse("T"+a)+500},convertNumberToValue:function(a){if(isNaN(a))return"";var b=Date2.toISOString(new Date(a)).slice(11).replace(/\.\d{3}Z$/,"");return b.replace(/:00$/,"")}});var datepicker=dropdown.extend({implements:[number],appearance:"datepicker",stepScale:86400000,onchange:_m,"@(Date.prototype.toLocaleDateString)":{onchange:function(a){this.base(a);if(!this.hasClass(a,"jsb-error")){this.showToolTip(a,this.getValueAsDate(a).toLocaleDateString())}}},convertValueToNumber:function(a){return a==""?NaN:Date2.parse(a+"T")},convertNumberToValue:function(a){return isNaN(a)?"":Date2.toISOString(new Date(a)).slice(0,10)},Popup:{appearance:"datepicker-popup",scrollX:false,scrollY:false,currentDate:0,render:function(){this.base('<div style="padding:4px"><table style="margin:0" cellspacing="0"><tr><td><select>'+f(chrome.locale.months,"option")+'</select></td><td align="right"><input type="text" class="jsb-spinner" size="4"></td></tr><tr><td colspan="2"><table style="width:100%;margin:2px 0 0 0;padding:2px" class="jsb-datepicker-days" cellspacing="0" tabindex="1"><tr unselectable="on">'+f(chrome.locale.days,"th",'unselectable="on"')+'</tr>'+Array(7).join('<tr unselectable="on">'+Array(8).join('<td unselectable="on">0</td>')+'</tr>')+'</table></td></tr></table></div>');this.year=this.querySelector("input");this.month=this.querySelector("select");this.days=this.querySelector("table.jsb-datepicker-days");this.controls=new Array2(this.month,this.year,this.days);this.year.onscroll=_s;spinner.attach(this.year);this.setUnselectable(this.days);this.render=Undefined;function f(c,d,e){return reduce(c,function(a,b){return a+="<"+d+" "+e+">"+b+"</"+d+">"},"")}},onchange:function(a){this.fill()},onkeydown:function(a){var b=a.keyCode,c=a.target;if(b==13){this.select(this.currentItem);a.preventDefault();return}if(c!=this.year&&c!=this.month&&/^(3[3467809]|40)$/.test(b)){var d=this.getUTCDate(),e=new Date(d);a.preventDefault();switch(b){case 36:e=this.owner.getValueAsDate(this.element)||new Date;break;case 37:e.setUTCDate(e.getUTCDate()-1);break;case 39:e.setUTCDate(e.getUTCDate()+1);break;case 38:e.setUTCDate(e.getUTCDate()-7);break;case 40:e.setUTCDate(e.getUTCDate()+7);break;case 34:if(a.ctrlKey){e.setUTCFullYear(e.getUTCFullYear()-1)}else{e.setUTCDate(e.getUTCDate()-28);if(e.getUTCMonth()==d.getUTCMonth()){e.setUTCDate(e.getUTCDate()-7)}}break;case 33:if(a.ctrlKey){e.setUTCFullYear(e.getUTCFullYear()+1)}else{e.setUTCDate(e.getUTCDate()+28);if(e.getUTCMonth()==d.getUTCMonth()){e.setUTCDate(e.getUTCDate()+7)}}break}this.currentDate=e.getUTCDate();if(e.getUTCMonth()==d.getUTCMonth()&&e.getUTCFullYear()==d.getUTCFullYear()){this.highlightByDate()}else{this.year.value=e.getUTCFullYear();this.month.selectedIndex=e.getUTCMonth();this.fill()}}else{this.base(a)}},onmouseup:function(a){var b=a.target;if(!Traversal.contains(this.days,b))return;if(b.className=="disabled")return;this.select(this.currentItem)},onmouseover:function(a){var b=a.target;if(b.nodeName=="TD"&&b.className!="disabled"&&Traversal.contains(this.days,b)){this.highlight(b);this.currentDate=parseInt(b[_f])}},getUTCDate:function(){return new Date(Date.UTC(this.year.value,this.month.selectedIndex,this.currentDate,0))},fill:function(){var a=this.month.selectedIndex,b=new Date(this.year.value,a,1,12),c=new Date(b);b.setUTCDate(b.getUTCDate()-b.getUTCDay()+chrome.locale.firstDay);if(b>c){b.setUTCDate(b.getUTCDate()-7)}var d=this.days.rows,e,f,g;for(var h=1;e=d[h];h++){var i=e.cells,j,m=false;for(var n=0;j=i[n];n++){var k=b.getUTCDate(),l=a==b.getUTCMonth();j.innerHTML=k;j.className=l?"":"disabled";if(l){g=j;if(this.currentDate==k)f=j}m|=l;b.setUTCDate(k+1)}e.style.visibility=m?"":"hidden"}this.highlight(f||g)},highlight:function(a){if(a){this.reset(this.currentItem);this.currentItem=a;ClassList.add(a,"selected")}},highlightByDate:function(){var a=this.days.rows,b;for(var c=1;b=a[c];c++){var d=b.cells,e;for(var f=0;e=d[f];f++){if(e[_f]==this.currentDate&&e.className!="disabled"){this.highlight(e);return}}}},layout:function(){var a=this.owner.getValueAsDate(this.element)||new Date;this.year.value=a.getUTCFullYear();this.month.selectedIndex=a.getUTCMonth();this.currentDate=a.getUTCDate();this.fill();spinner.layout(this.year)},reset:function(a){if(a)ClassList.remove(a,"selected")},select:function(){var a=this.element;this.owner.setValueAsDate(a,this.getUTCDate());this.hide();a.focus()},style:function(b){this.base(b);var c=this.body.style,d=this.month.style,e=this.year.style,f=this.days.style,g=this.body.getElementsByTagName("td");forEach.csv("fontFamily,fontSize,fontWeight,fontStyle,color",function(a){f[a]=d[a]=e[a]=c[a]});f.backgroundColor=e.backgroundColor=c.backgroundColor;this.highlight(g[14-g[14][_f]+this.currentDate])}}});var weekpicker=datepicker.extend({PATTERN:/^\d{4}-W([0-4]\d|5[0-3])$/,appearance:"weekpicker",stepScale:604800000,showToolTip:Undefined,convertValueToNumber:function(a){if(!this.PATTERN.test(a))return NaN;var b=String(a).split("-W"),c=new Date(b[0],0,1);while(c.getDay()!=chrome.locale.firstDay)c.setDate(c.getDate()+1);c=new Date(c.valueOf()+(b[1]-1)*this.stepScale);return(c.getFullYear()==b[0])?c.valueOf():NaN},convertNumberToValue:function(a){var b=new Date(a),c=new Date(b.getFullYear(),0,1),d=Math.floor((b-c)/this.stepScale)+1;return pad(b.getFullYear(),4)+"-W"+pad(d)},Popup:{onkeydown:function(a){if(!/^(37|39)$/.test(a.keyCode)){this.base(a)}},onmouseover:function(a){var b=a.target;if(b.nodeName=="TD"&&Traversal.contains(this.days,b)){this.highlight(b.parentNode);this.currentDate=parseInt(NodeSelector.querySelector(b.parentNode,"td:not(.disabled)")[_f])}},onmouseup:function(a){if(Traversal.contains(this.days,a.target)){this.select(this.currentItem)}},highlight:function(a){if(a.nodeName=="TD"){a=a.parentNode}this.base(a)}}});var monthpicker=spinner.extend({appearance:"monthpicker",onchange:_m,getBlockIncrement:function(a){return this.getUnitIncrement(a)*12},convertValueToNumber:function(a){return a==""?NaN:Date2.parse(a+"-12T")},convertNumberToValue:function(a){return isNaN(a)?"":Date2.toISOString(new Date(a)).slice(0,7)},increment:function(a,b,c){var d=this.getValueAsDate(a)||new Date;if(c){d.setUTCFullYear(d.getUTCFullYear()+b)}else{d.setUTCMonth(d.getUTCMonth()+b)}this.setValueAsDate(a,d)}});var colorpicker=dropdown.extend({appearance:"colorpicker","@MSIE":_r,"@!theme=aqua":{onfocus:function(a){if(a!=control._2){this.addClass(a,this.appearance+_d)}this.base(a)}},getState:function(a){if(this.hasClass(a,this.appearance+_d)){return this.states.hover}else{return this.base(a)}},layout:function(a){this.base(a);with(a){style.color=style.backgroundColor=value}},hitTest:True,Popup:{appearance:"colorpicker-popup",onchange:function(){var c=map(pluck(this.controls,"value"),Number);var d=reduce(c,function(a,b){return a+=pad(b.toString(16))},"#");this.owner.setValue(this.element,d)},layout:function(){var c=map(this.element.value.slice(1).match(/(\w\w)/g),partial(parseInt,undefined,16));this.controls.forEach(function(a,b){a.value=c[b];slider.layout(a)})},render:function(){var a=': <input class="jsb-slider" min="0" max="255">';this.base(["R"+a,"G"+a,"B"+a].join("<br>"));this.controls=this.querySelectorAll("input.jsb-slider");this.controls.forEach(slider.attach);this.render=Undefined}}});var Rect=Base.extend({constructor:function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d;this.right=a+c;this.bottom=b+d},contains:function(a,b){with(this)return a>=left&&a<=right&&b>=top&&b<=bottom},toString:function(){with(this)return[left,top,width,height].join(",")}});var _k="Window",_o="Highlight",_p="HighlightText";if(detect("win.+(Webkit([1-4]|5[01]|52[^89])|theme=aqua)")){_k="#fff";_o="#427cd9";_p="#fff"}jsb.theme.cssText=jsb.createStyleSheet({"*":{backgroundPosition:"9999px 9999px",backgroundAttachment:"scroll!",backgroundRepeat:"no-repeat!",padding:"2px",border:"1px solid #a7a6aa","@theme=classic":{padding:"1px 2px 2px 1px",borderWidth:"2px 1px 1px 2px",borderColor:"#444 #ddd #ddd #444","@MSIE":{padding:"1px",border:"2px inset ButtonHighlight",borderLeftColor:"ButtonShadow",borderLeftStyle:"outset",borderTopColor:"ButtonShadow",borderTopStyle:"outset"},"@Gecko":{padding:"1px",borderWidth:"2px",MozBorderTopColors:"ThreeDShadow ThreeDDarkShadow",MozBorderRightColors:"ThreeDHighlight ThreeDLightShadow",MozBorderLeftColors:"ThreeDShadow ThreeDDarkShadow",MozBorderBottomColors:"ThreeDHighlight ThreeDLightShadow"}},"@theme=aqua":{padding:"1px 2px 2px 2px",borderWidth:"2px 1px 1px 1px",borderColor:"#9e9e9e #b4b4b4 #dadada #b4b4b4"},"@theme=luna\\/blue":{borderColor:"#7f9db9"},"@theme=luna\\/olive":{borderColor:"#a4b97f"},"@theme=luna\\/silver":{borderColor:"#a5acb2"},"@theme=aero":{borderColor:"#abadb3 #dbdfe6 #e3e9ef #e2e3ea"},"@theme=zune":{borderColor:"#969696"}},".jsb-dropdown,.jsb-combobox,.jsb-colorpicker,.jsb-datepicker,.jsb-weekpicker":{"@theme=aqua":{width:"10em",BorderRadius:"5px",BoxShadow:"0 1px 4px rgba(160, 160, 160, 0.5)","@!borderImage":{backgroundImage:"url(%theme%/bg-dropdown.png)!",backgroundPosition:"right center!",padding:"1px 22px 1px 4px!",borderWidth:"1x!",border:"1px solid #545454!"},"@borderImage":{BorderImage:"url(%theme%/dropdown.png) 1 18 1 4",borderStyle:"none",borderWidth:"1px 18px 1px 4px!",padding:"1px"}},"@!theme=aqua":{width:"8em",paddingRight:"19px!",backgroundImage:"url(%theme%/dropdown.png)!"}},".jsb-progressbar,.jsb-slider,.jsb-colorpicker":{textIndent:"-10em",cursor:"default",UserModify:"read-only",UserSelect:"none","@MSIE":{verticalAlign:"top",textIndent:0,lineHeight:"80em"}},".jsb-progressbar":{_G:"10px",minHeight:"10px",padding:"2px",borderColor:"ThreeDDarkShadow",borderWidth:"1px",BorderRadius:"5px",backgroundImage:"url(%theme%/progressbar.png)!",width:"164px"},".jsb-slider":{_G:"22px",minHeight:"22px",padding:0,border:"none!",backgroundColor:"transparent",backgroundImage:"url(%theme%/slider.png)!","@Gecko":{MozBorder:"initial"},"@Gecko1\\.[0-3]":{backgroundColor:"#f2f2f2"}},".jsb-popup":{visibility:"hidden",backgroundColor:_k,borderWidth:"1px",position:"absolute!",zIndex:"999999!",cursor:"default",padding:"0",margin:"0!","@Gecko|Opera|theme=aqua|Webkit":{MozBorder:"initial",borderColor:"ThreeDShadow!",borderStyle:"outset!","@Opera":{borderStyle:"solid!"}},"@theme=classic":{borderColor:"ThreeDShadow!",borderStyle:"solid!"}},".jsb-spinner":{textAlign:"right",width:"5em",paddingRight:"19px!",backgroundImage:"url(%theme%/spinner.png)!"},".jsb-timepicker,.jsb-monthpicker":{width:"4em",paddingRight:"19px!",backgroundImage:"url(%theme%/spinner.png)!"},".jsb-datepicker-days":{UserSelect:"none!"}});jsb.theme.cssText+=jsb.createStyleSheet({".jsb-error":{borderColor:"#ff5e5e",outlineColor:"#ff5e5e"},".jsb-colorpicker":{width:"4em"},".jsb-datepicker":{width:"12ex"},".jsb-weekpicker":{width:"11ex"},"@!Webkit":{".progressbar_focus,.slider_focus,.colorpicker_focus":{Outline:"1px dotted"}},"@Webkit":{".jsb-slider:focus:not(.slider_focus)":{Outline:"none!"}},".jsb-datalist":{display:"none!"},".jsb-menulist":{"@!MSIE":{overflow:"auto!"},"@MSIE":{overflowY:"auto!"}},".jsb-menulist p":{margin:"0!",padding:"1px 2px!",overflow:"hidden!",whiteSpace:"nowrap!"},".jsb-colorpicker-popup":{backgroundColor:"ButtonFace!",color:"ButtonText!",fontSize:"11px!",padding:"4px!",overflow:"hidden!",whiteSpace:"nowrap!","@Webkit([1-4]|5[01]|52[^89])":{backgroundColor:"#ece9d8!"}},".jsb-colorpicker-popup input":{fontSize:"11px",margin:"4px 2px",verticalAlign:"middle",width:"127px"},".jsb-datepicker-popup":{backgroundColor:"#fcfcfd!",overflow:"hidden!"},".jsb-datepicker-popup input":{width:"5ex","@!MSIE[567]|Opera":{padding:"1px 19px 1px 2px!"}},".jsb-datepicker-popup th":{backgroundColor:"InfoBackground!",color:"InfoText!",fontWeight:"normal!"},".jsb-datepicker-popup th,.jsb-datepicker-days td":{padding:"2px 0!",textAlign:"center!",width:"14%!"},".jsb-datepicker-days td.disabled":{color:"GrayText!",Opacity:0.4},".jsb-datepicker-days td.selected,.jsb-datepicker-days tr.selected td":{backgroundColor:_o,color:_p,Opacity:1},"@theme=luna\\/blue":{".jsb-datepicker-popup th":{backgroundColor:"#ffffe1!"}},"@theme=aqua":{".jsb-menulist":{Opacity:0.95},".jsb-spinner,.jsb-timepicker,.jsb-monthpicker":{borderTopWidth:"1px",paddingTop:"2px",borderRightColor:"transparent",WebkitBorderTopRightRadius:"5px",WebkitBorderBottomRightRadius:"5px","MozBorderRadius-topright":"5px","MozBorderRadius-bottomright":"5px"},".jsb-spinner[disabled],.jsb-spinner[readonly],.jsb-timepicker[disabled],.jsb-timepicker[readonly],.jsb-monthpicker[disabled],.jsb-monthpicker[readonly]":{borderColor:"#d6d6d6 #e0e0e0 #f0f0f0 #e0e0e0"},".jsb-combobox[readonly],.jsb-combobox[disabled],.jsb-datepicker[readonly],.jsb-datepicker[disabled],.jsb-weekpicker[readonly],.jsb-weekpicker[disabled]":{"@borderImage":{BorderImage:"url(%theme%/dropdown-disabled.png) 1 18 1 4!"},"@!borderImage":{backgroundImage:"url(%theme%/bg-dropdown-disabled.png)!"}},"@borderImage":{".jsb-colorpicker":{BorderImage:"url(%theme%/colorpicker.png) 1 18 1 4!"},".jsb-colorpicker[readonly],.jsb-colorpicker[disabled]":{BorderImage:"url(%theme%/colorpicker-disabled.png) 1 18 1 4!"}},"@!borderImage":{".jsb-colorpicker":{backgroundImage:"url(%theme%/bg-colorpicker.png)!"},".jsb-colorpicker[readonly],.jsb-colorpicker[disabled]":{backgroundImage:"url(%theme%/bg-colorpicker-disabled.png)!"}},".jsb-combobox[disabled],.jsb-datepicker[disabled],.jsb-weekpicker[disabled],.jsb-colorpicker[disabled],.jsb-progressbar[disabled]":{color:"WindowText",Opacity:0.5},".jsb-colorpicker-popup,.jsb-datepicker-popup":{backgroundColor:_k+"!",backgroundImage:"url(%theme%/metal.png)!",backgroundRepeat:"repeat!"},".jsb-datepicker":{width:"7em"},".jsb-weekpicker":{width:"6em"},".jsb-datepicker-days":{backgroundColor:_k+"!"},".jsb-datepicker-days:active":{Outline:"none!"},".jsb-datepicker-popup th":{backgroundColor:"#89acd5!",color:"white!"}},".jsb-tooltip":{borderColor:"InfoText!",backgroundColor:"InfoBackground!",color:"InfoText!",fontSize:"small!",BoxShadow:"2px 4px 4px rgba(160, 160, 160, 0.5)"},"@Opera[91]":{"input[list],input[type=number],input[type=date],input[type=time],input[type=month],input[type=week],input[type=range]":{border:"initial",borderWidth:"initial",borderColor:"initial",backgroundImage:"none!"}}});var locales={en:{days:"S,M,T,W,T,F,S",months:"January,February,March,April,May,June,July,August,September,October,November,December",firstDay:1},de:{days:"S,M,D,M,D,F,S",months:"Januar,Februar,März,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember"},es:{days:"D,L,M,M,J,V,S",months:"Enero,Febrero,Marzo,Abril,Mayo,Junio,Julio,Agosto,Septiembre,Octubre,Noviembre,Diciembre",firstDay:0},fr:{days:"D,L,M,M,J,V,S",months:"Janvier,Février,Mars,Avril,Mai,Juin,Juillet,Août,Septembre,Octobre,Novembre,Décembre"},it:{days:"D,L,M,M,G,V,S",months:"Gennaio,Febbraio,Marzo,Aprile,Maggio,Giugno,Luglio,Agosto,Settembre,Ottobre,Novembre,Dicembre"},nl:{days:"zo,ma,di,wo,do,vr,za",months:"januari,februari,maart,april,mei,juni,juli,augustus,september,oktober,november,december"},ru:{days:"Вс,Пн,Вт,Ср,Чт,Пт,Сб",months:"Январь,Февраль,Март,Апрель,Май,Июнь,Июль,Август,Сентябрь,Октябрь,Ноябрь,Декабрь"}};var Locale=Base.extend({constructor:function(a){this.lang=a.slice(0,2);extend(this,locales[this.lang]);this.days=this.days.split(",");for(var b=0;b<this.firstDay;b++)this.days.push(this.days.shift());this.months=this.months.split(",")}});extend(Locale.prototype,locales.en);chrome.locale=new Locale(navigator.language||navigator.systemLanguage);chrome.rules=new RuleList({"input.jsb-combobox":combobox,"input.jsb-progressbar":progressbar,"input.jsb-slider":slider,"input.jsb-spinner":spinner,"input.jsb-timepicker":timepicker,"input.jsb-datepicker":datepicker,"input.jsb-weekpicker":weekpicker,"input.jsb-monthpicker":monthpicker,"input.jsb-colorpicker":colorpicker});eval(this.exports)};