<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<head>
<title>MiniWeb: /doc/!base2</title>
<script type="text/javascript" src="http://base2.googlecode.com/svn/version/1.0.1/src/miniweb.js"></script>
<script type="text/javascript" src="http://base2.googlecode.com/svn/version/1.0.1/src/base2-dom.js"></script>
<script type="text/javascript" src="http://base2.googlecode.com/svn/version/1.0.1/doc/colorize.js"></script>
<script type="text/javascript" src="http://base2.googlecode.com/svn/version/1.0.1/doc/doc.js"></script>
<script type="text/javascript">
MiniWeb.$$.system={"Administration":"<p>You are invited to customise MiniWeb:<\/p>\n<ul>\n <li>Test a <a href='#/dud'>dud<\/a> link<\/li>\n <li>Edit the default <a href='#/system/edit!/system/view'>view<\/a> (page structure)<\/li>\n <ul>\n  <li>Edit the <a href='#/system/edit!/system/header'>header<\/a> template<\/li>\n  <li>Edit the <a href='#/system/edit!/system/content'>content<\/a> template<\/li>\n  <li>Edit the <a href='#/system/edit!/system/footer'>footer<\/a> template<\/li>\n  <li>Edit the <a href='#/system/edit!/system/directory'>directory<\/a> template<\/li>\n  <li>Edit the <a href='#/system/view!/system/Error/'>error<\/a> page templates<\/li>\n  <li>Edit page <a href='#/system/edit!/system/view.css'>style<\/a><\/li>\n <\/ul><\/li>\n <li>Edit <a href='javascript:beginEdit()'>this<\/a> page<\/li>\n<\/ul>\n<p>Or have a look around:<\/p>\n<ul>\n <li>Go to the <a href='#/'>root<\/a> of the MiniWeb file system<\/li>\n <li>Go to the <a href='#/system'>system<\/a> directory<\/li>\n <li>Go to the <a href='#/examples/'>examples<\/a><\/li>\n<\/ul>\n<p>If you are feeling adventurous you can use the <a href='#/system/Terminal'>terminal<\/a> to modify the file system.<\/p>","Help":{"JST_Interpreter":"<p>The standard interpreter is based on <a href='http://erik.eae.net/'>Erik Arvidsson<\/a>&#8217;s <a href='http://erik.eae.net/archives/2005/05/27/01.03.26/'>ECMAScript Template Engine<\/a>. The <abbr title='JavaScript Templates'>JST<\/abbr> interpreter uses a command object to provide access to additional commands. The <abbr>JST<\/abbr> interpreter extends the <a href=\"#File_System\">FileSystem<\/a> object which provides methods for reading and writing files and directories.<\/p>\n<p>The extended MiniWeb command object supports the following properties and methods:<\/p>\n<h2>Properties<\/h2>\n<dl>\n<dt><code><small>string<\/small> parent<\/code><\/dt>\n<dd><p>The path of the parent template.<\/p><\/dd>\n<dt><code><small>object<\/small> request<\/code><\/dt>\n<dd><p>The current <a href='#Request'>Request<\/a> object (if there is one).<\/p><\/dd>\n<dt><code><small>string<\/small> self<\/code><\/dt>\n<dd><p>The path of the current template.<\/p><\/dd>\n<dt><code><small>string<\/small> target<\/code><\/dt>\n<dd><p>The current input buffer. Can be any kind of string data. Is quite often the path to another template.<\/p><\/dd>\n<dt><code><small>string<\/small> top<\/code><\/dt>\n<dd><p>The path of the top level template.<\/p><\/dd>\n<\/dl>\n<h2>Methods<\/h2>\n<dl>\n<dt><code><small>string<\/small> args(<i>names<\/i>)<\/code><\/dt>\n<dd><p>Treats the current target as if it were a space delimited list of arguments. <i>names<\/i> is a comma delimited list of names. This function defines variables in the current scope described by <i>names<\/i>. Returns the resulting argument list.<\/p>\n<p>For example:<\/p>\n<pre>\n&lt;%\n\nvar theArguments = args('name,value');\n\n// 'name' and 'value' are now defined in the current scope\necho(name + \":\" + value);\n\n// 'theArguments' is equivalent to JavaScript's arguments object\necho('Number of arguments is ' + theArguments.length);\n\n%&gt;<\/pre><\/dd>\n<dt><code><small>void<\/small> echo(<i>string<\/i>)<\/code><\/dt>\n<dd><p>Write <i>string<\/i> directly to the output buffer.<\/p><\/dd>\n<dt><code><small>string<\/small> escapeHTML(<i>string<\/i>)<\/code><\/dt>\n<dd><p>Replace certain characters (<code>\"&amp;'&lt;&gt;<\/code>) with the equivalent HTML entity.<\/p><\/dd>\n<dt><code><small>string<\/small> exec(<i>template<\/i> [, <i>target<\/i>])<\/code><\/dt>\n<dd><p>Evaluate the entry identified by <i>template<\/i> using <i>target<\/i> as the current target. Returns the resulting string.<\/p><\/dd>\n<dt><code><small>void<\/small> include(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Evaluate the entry associated with <i>path<\/i> and write the results to the output buffer.<\/p><\/dd>\n<dt><code><small>void<\/small> include_once(<i>path<\/i>)<\/code><\/dt>\n<dd><p>As above but all further calls to <code>include_once<\/code> are ignored for the particular <i>path<\/i>.<\/p><\/dd>\n<dt><code><small>void<\/small> process(<i>template<\/i>, [<i>target<\/i> [, <i>...<\/i>]])<\/code><\/dt>\n<dd><p>Evaluate the entry associated with <i>template<\/i> using <i>target<\/i> as the current target. Do this for each entry associated with subsequent <i>target<\/i> arguments and <code>echo<\/code> the results.<\/p>\n<p>For example:<\/p>\n<pre>process(template, target1, target2);<\/pre>\n<p>is equivalent to:<\/p>\n<pre>echo(exec(template, target1);\necho(exec(template, target2);<\/pre><\/dd>\n<\/dl>\n<h2>Notes<\/h2>\n<p><em>There is no real distinction between a template and an entry.<\/em><\/p>\n","File_System":"<p>The file system object supports the following properties and methods:<\/p>\n<h2>Properties<\/h2>\n<dl>\n<dt><code><small>string<\/small> protocol<\/code><\/dt>\n<dd><p>The current protocol. Currently only <code>json:<\/code> is supported.<\/p><\/dd>\n<dt><code><small>string<\/small> path<\/code><\/dt>\n<dd><p>The current working directory.<\/p><\/dd>\n<\/dl>\n<h2>Methods<\/h2>\n<dl>\n<dt><code><small>string<\/small> chdir(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Change the current working directory to <i>path<\/i>.<\/p><\/dd>\n<dt><code><small>string<\/small> copy(<i>path1<\/i>, <i>path2<\/i>)<\/code><\/dt>\n<dd><p>Copy the file found at <i>path1<\/i> to <i>path2<\/i>.<\/p><\/dd>\n<dt><code><small>boolean<\/small> exists(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Verifies the existence of a file or directory.<\/p><\/dd>\n<dt><code><small>boolean<\/small> isDirectory(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Verifies that the file found at <i>path<\/i> is a directory.<\/p><\/dd>\n<dt><code><small>boolean<\/small> isFile(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Verifies that the file found at <i>path<\/i> is a file.<\/p><\/dd>\n<dt><code><small>boolean<\/small> mkdir(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Create the directory described by <i>path<\/i>.<\/p><\/dd>\n<dt><code><small>void<\/small> move(<i>path1<\/i>, <i>path2<\/i>)<\/code><\/dt>\n<dd><p>Move the file found at <i>path1<\/i> to <i>path2<\/i>.<\/p><\/dd>\n<dt><code><small>varied<\/small> read(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Read the file or directory found at <i>path<\/i> and return its contents. For a text file the text is returned and for a directory a collection of directory items is returned.<\/p><\/dd>\n<dt><code><small>void<\/small> remove(<i>path<\/i>)<\/code><\/dt>\n<dd><p>Delete the file or directory found at <i>path<\/i>.<\/p><\/dd>\n<dt><code><small>void<\/small> write(<i>path<\/i>, <i>text<\/i>)<\/code><\/dt>\n<dd><p>Write text to the file found at <i>path<\/i>.<\/p><\/dd>\n<\/dl>\n<h2>Notes<\/h2>\n<p><em>I need to write more stuff here.<\/em><\/p>\n","Templating":"<h2>Command Objects<\/h2>\n<p>First of all read Erik Arvidsson's blog post about his templating engine:<\/p>\n<p><a href='http://erik.eae.net/archives/2005/05/27/01.03.26/'>http://erik.eae.net/archives/2005/05/27/01.03.26/<\/a><\/p>\n<p>MiniWeb's system extends Erik's original. In Miniweb's system all code is evaluated in the scope of a special object called the command object. The command object provides access to functions that facilitate templating (e.g. the <code>include<\/code> function). The MiniWeb command object inherits from the <a href='#File_System'>FileSystem<\/a> object. That means that when templating you have access to functions like <code>read<\/code>, <code>write<\/code>, <code>move<\/code> etc. The Command object extends the FileSystem object by adding methods like <code>include<\/code> and <code>echo<\/code>.<\/p>\n<p>There are two Command objects in use by MiniWeb:<\/p>\n<ol>\n<li>The server's <a href='#JST_Interpreter'>Interpreter<\/a> extends the Command object by providing access to the client's <a href='#Request'>Request<\/a> object<\/li>\n<li>The <a href='#/system/Terminal'>Terminal<\/a> object extends the Command object by providing a mechanism for searching the <code>/bin/<\/code> directory and executing code there<\/li>\n<\/ol>\n<p>So, the class hierarchy for MiniWeb Command objects looks like this:<\/p>\n<pre style='color:#000'>\nBase\n.FileSystem\n..Command\n...Interpreter\n...Terminal\n<\/pre>\n\n<h2>The <code>exec()<\/code> Method<\/h2>\n<p>All Command objects have an <code>exec()<\/code> method. When you call <code>exec(path)<\/code> the file identified by <code>path<\/code> is read and interpreted by the <abbr title='JavaScript Templates'>JST<\/abbr> interpreter. This is what happens when the server returns a page to the client. The page is read and evaluated using <code>exec()<\/code> and the result is returned.<\/p>\n<p>When using the terminal you can issue commands like <code>ls<\/code> (which provides a directory listing). The Terminal is a Command object so it will evaluate the contents of <code>/bin/ls<\/code> and return the result. The <code>ls<\/code> command echoes the result to the terminal window.<\/p>\n<p>You can call <code>exec()<\/code> on <em>any<\/em> file. If the file contains no <abbr>JST<\/abbr> code then <code>exec()<\/code> will simply return the contents of the file. This is <strong>important<\/strong>! Remember: <em>you can execute any file<\/em>. This can be demonstrated clearly in the terminal. Type the name of any file and it will be executed. Most files do not contain any <abbr>JST<\/abbr> code, so <code>exec()<\/code> will simply dump the contents to screen.<\/p>\n<p>When templating you can pass data around using a property of the Command object: <code>target<\/code>.<\/p>\n<p>The <code>target<\/code> property is the most important property of any Command object. <code>target<\/code> is always a string. It often contains the path of another template.<\/p>\n<p>You change the current target by calling <code>exec()<\/code> with a second parameter:<\/p>\n<pre>exec(template, target);<\/pre>\n<p>For example:<\/p>\n<p>The file <code>add-one<\/code> contains the following code:<\/p>\n<pre>\n&lt;%= parseInt(target) + 1 %&gt;\n<\/pre>\n<p>The file <code>test<\/code> contains this code:<\/p>\n<pre>&lt;% echo(exec('add-one', 55)) %&gt;<\/pre>\n<p>If you enter <code>test<\/code> in the terminal window it will return <code>56<\/code>.<\/p>\n<p>You can think of <code>exec()<\/code> as equivalent to calling a function. <code>exec(template, target)<\/code> is equivalent to calling a function called <code>template<\/code> with arguments <code>target<\/code>. Sort of. :-)<\/p>","Request":"<p>The Request object is based on the standard <a href='http://www.w3.org/TR/XMLHttpRequest/'>XMLHttpRequest<\/a> object.<\/p>\n<p>The MiniWeb request object supports the following properties and methods:<\/p>\n<h2>Properties<\/h2>\n<dl>\n<dt><code><small>object<\/small> headers<\/code><\/dt>\n<dd><p>A JavaScript object that contains the request headers (currently both request and response headers).<\/p><\/dd>\n<dt><code><small>string<\/small> method<\/code><\/dt>\n<dd><p>e.g. GET, HEAD, POST.<\/p><\/dd>\n<dt><code><small>number<\/small> readyState<\/code><\/dt>\n<dt><code><small>string<\/small> responseText<\/code><\/dt>\n<dt><code><small>number<\/small> status<\/code><\/dt>\n<dd><p>See the W3C documentation referenced above.<\/p><\/dd>\n<dt><code><small>string<\/small> url<\/code><\/dt>\n<dd><p>The requested url.<\/p><\/dd>\n<\/dl>\n<h2>Methods<\/h2>\n<dl>\n<dt><code><small>string<\/small> getResponseHeader(<i>header<\/i>)<\/code><\/dt>\n<dt><code><small>&nbsp;&nbsp;void<\/small> open(<i>method, url<\/i>)<\/code><\/dt>\n<dt><code><small>&nbsp;&nbsp;void<\/small> send(<i>data<\/i>)<\/code><\/dt>\n<dt><code><small>&nbsp;&nbsp;void<\/small> setRequestHeader(<i>header, value<\/i>)<\/code><\/dt>\n<dd><p>See the W3C documentation referenced above.<\/p><\/dd>\n<\/dl>","MiniWeb_Object":"<h2>Properties<\/h2>\n<dl>\n<dt><code><small>boolean<\/small> dirty<\/code><\/dt>\n<dd><p>A flag indicating that the MiniWeb data has changed since last saved.<\/p><\/dd>\n<dt><code><small>boolean<\/small> readOnly<\/code><\/dt>\n<dd><p>A flag indicating that the MiniWeb server has write access. You will have write access if running from your local hard disk but not if you are viewing the page over <abbr>HTTP<\/abbr>.<\/p><\/dd>\n<dt><code><small>string<\/small> version<\/code><\/dt>\n<dd><p>The version number of MiniWeb.<\/p><\/dd>\n<\/dl>\n<h2>Methods<\/h2>\n<dl>\n<dt><code><small>string<\/small> navigateTo(<i>url<\/i>)<\/code><\/dt>\n<dd><p>Navigate to the page at <i>url<\/i>. Note that <i>url<\/i> is a MiniWeb <abbr>URL<\/abbr> (the hash portion of the full <abbr>URL<\/abbr>).<\/p><\/dd>\n<dt><code><small>string<\/small> refresh()<\/code><\/dt>\n<dd><p>Refresh the page.<\/p><\/dd>\n<dt><code><small>string<\/small> reload()<\/code><\/dt>\n<dd><p>Reload the current page. Similar to <code>refresh<\/code> but data is reloaded from the server.<\/p><\/dd>\n<dt><code><small>string<\/small> resolve(<i>path1<\/i>, <i>path2<\/i>)<\/code><\/dt>\n<dd><p>Build a path from <i>path2<\/i> relative to <i>path1<\/i>.<\/p><\/dd>\n<dt><code><small>void<\/small> save([<i>path<\/i>])<\/code><\/dt>\n<dd><p>Save the current MiniWeb document to disk. If <i>path<\/i> is supplied then it is saved to that location, otherwise it is saved to the current location.<\/p><\/dd>\n<\/dl>\n<h2>Classes<\/h2>\n<dl>\n<dt><code><a href=\"#Request\">Request<\/a><\/code><\/dt>\n<dd><p>The MiniWeb equivalent of an <code>XMLHttpRequest<\/code> object.<\/p><\/dd>\n<\/dl>","default":"<p>Not much help at the moment. Remember that you can edit <a href='javascript:beginEdit()'>anything<\/a>.<p>\n<h2>Client<\/h2>\n<p>Navigate the <a href='#/'>file system<\/a> to examine and edit content.<\/p>\n<h2>Server<\/h2>\n<p>All pages are <em>template driven<\/em>. When constructing templates you may reference commands and properties unique to the <a href='#JST_Interpreter'><abbr title='JavaScript Templates'>JST<\/abbr> interpreter<\/a> which inherits from the <a href=\"#File_System\">FileSystem<\/a> object.<\/p>\n<p>Use the <a href='#/system/Terminal'>Terminal<\/a> to manage files.<\/p>\n<h2>Templating<\/h2>\n<p>Read the <a href='#Templating'>email<\/a> I sent to Brad Neuberg.<\/p>\n<h2>The MiniWeb Object<\/h2>\n<p>The <a href='#MiniWeb_Object'>MiniWeb object<\/a> has a number of public properties and methods to aid scripting.<\/p>"},"edit":"","view":"<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\"><%\n include_once('system.js');\n if (mode) target = query;\n%><html>\n<head>\n<title>MiniWeb: <%= target %><\/title>\n<style class='mw-system' type='text/css'>\n<%\n include('view.css');\n include('edit.css');\n if (isDirectory(target)) {\n  include('directory.css');\n }\n%>\n<\/style>\n<script type='text/javascript'>\nvar $ = function(id) {\n  return document.getElementById(id);\n};\n<%\n include('edit.js');\n%>\n<\/script>\n<\/head>\n<body>\n <div class='mw-header'><% include('header'); %><\/div>\n <div class='mw-content'><% include('content'); %><\/div>\n <div class='mw-footer'><% include('footer'); %><\/div>\n<\/body>\n<\/html>","content":"<% \nlevel++; // heading level\n// sanitise the current target to make a title\nvar title = target.replace(/default$/, '').replace(/\\/(\\w+\\/)*(\\w+)\\/?/, '$2').replace(/_/g, ' ');\nif (title == '/') title = String(MiniWeb);\n%>\n<h<%= level %> class='mw-edit' id='dt-<%= target %>'><%= title %><% if (!isError) include('edit-controls'); %><\/h<%= level %>>\n<div class='mw-data' id='dd-<%= target %>'>\n<%\nif (isDirectory(target)) {\n process('directory', target);\n} else if (/\\.(css|js)$/.test(target)) {\n%>\n<pre class='mw-plain'><%= escapeHTML(read(target)) %><\/pre>\n<%\n} else {\n include_once(target);\n}\n%>\n<\/div>\n<%\nlevel--;\n%>\n","header":"<ul class='mw-menu'>\n <li><a href='#/'>Home<\/a><\/li>\n <li><a href='#/blog/'>Blog<\/a><\/li>\n <li><a href='#/system/Administration'>Admin<\/a><\/li>\n <li><a href='#/system/Terminal'>Terminal<\/a><\/li>\n <li><a href='#/system/About'>About<\/a><\/li>\n <li><a href='#/system/Help/'>Help<\/a><\/li>\n <li>--------<\/li>\n <li><a href='#/notes'>notes<\/a><\/li>\n <li class='mw-save'><a id='mw-save'<%= MiniWeb.dirty ? \" class='mw-dirty'\" : '' %> href='javascript:MiniWeb.save()'>Save<\/a><\/li>\n<\/ul>\n","footer":"<p><%= MiniWeb %>, revision <%= read('About/revision') %><\/p>\n","record":"<% \nif (isDirectory(target)) {\n forEach (read(target), function(item, name) {\n  if (!item.isDirectory && name != 'default') {\n   process('content', makepath(target, name));\n  }\n });\n}\n%>","directory":"<%\nif (isDirectory(target)) {\n%>\n<table class='mw-directory'>\n<%\n  var directory = read(target);\n  if (target != '/') {\n    directory.add('..', null);\n  }\n  directory.sort();\n  var total = 0;\n  forEach (directory, function(item, name) {\n    var icon = item.isDirectory ? '[<span>dir<\/span>]' : '';\n    var href = makepath(target, name);\n    var type = item.isDirectory ? 'Directory' : 'File';\n    if (item.isDirectory) href += '/';\n      total += item.size;\n%>\n<tr class='<%= type.toLowerCase() %><%= name == '..' ? ' parent' : '' %>'>\n<td class='icon'><%= icon %><\/td>\n<td class='size'><% if (type == 'File') echo(item.size + ' bytes'); %><\/td>\n<td><a href='#<%= href %>'><%= name %><\/a><\/td>\n<td style='padding-left:4em'><span class='mw-edit-controls-inactive'><a href='#/system/view!<%= href %>'>view<\/a>\n <a href=\"javascript:delete<%= type %>('<%= href %>')\" class='delete'>delete<\/a>\n <a href='#/system/edit!<%= href %>' class='edit'>edit<\/a><\/span><\/td>\n<\/tr>\n<%\n  });\n  echo('<tr class=\"total\"><td><\/td><td class=\"size\">' + total + ' bytes<\/td><td>--<\/td><td><\/td><\/tr>');\n%>\n<\/table>\n<%\n}\n%>","Error":{"Moved_Permanently":"<p>The new location of this resource is: <a href=\"<%= request.getResponseHeader(\"Location\") %>\"><%= request.getResponseHeader(\"Location\") %><\/a> or <a href='javascript:history.back()'>go back<\/a>.<\/p>","Not_Found":"<p class='mw-error'>The file <b><%= request.url %><\/b> could not be found.<\/p>\n<% if (isError) { %>\n<p><a href='#/system/create!<%= request.url %>'>Create this entry<\/a> or go <a href='javascript:history.back()'>back<\/a>.<\/p>\n<% } %>","Method_Not_Allowed":"<p class=\"mw-error\">The method <b><%= request.method %><\/b> is not allowed.<\/p>\n<% if (isError) { %>\n<p><a href='mailto:dean@edwards.name'>Report an error<\/a> or <a href='javascript:history.back()'>go back<\/a>.<\/p>\n<% } %>","Internal_Server_Error":"<p>Some kind of error occurred in the fake server that powers MiniWeb:<\/p>\r\n<% if (isError) { %>\r\n<blockquote><pre><%= request.error.message %><\/pre><\/blockquote>\r\n<% if (request.command) { %>\r\n<blockquote><pre>\r\n<ul>\r\n<li><b>top:    <\/b><%= request.command.top %><\/li>\r\n<li><b>parent: <\/b><%= request.command.parent %><\/li>\r\n<li><b>self:   <\/b><%= request.command.self %><\/li>\r\n<li><b>target: <\/b><%= request.command.target %><\/li>\r\n<li><b>query:  <\/b><%= request.command.query %><\/li>\r\n<\/ul>\r\n<\/pre><\/blockquote>\r\n<% } %>\r\n<p><a href='mailto:dean@edwards.name'>Report this error<\/a> or <a href='javascript:history.back()'>go back<\/a>.<\/p>\r\n<% } %>","default":"<p><em>Status: <%= request.status %><\/em><\/p>\n<p><%= request.repsonseText %><\/p>"},"About":{"Author":"Dean Edwards","Copyright":"&copy; Dean Edwards 2007-2008","default":"<p>MiniWeb models an entire web site in a single <abbr title=\"HyperText Markup Language\">HTML<\/abbr> page. \nAll of the site files are stored in a <abbr title=\"JavaScript Object Notation\">JSON<\/abbr> object which \nyou can navigate with a UNIX-like shell or the system browser. \nIt has a built-in templating system and has an approximate separation of client and server.<\/p>\n<p>Project home: <a href='http://base2.googlecode.com/svn/trunk/src/apps/MiniWeb/'>http://base2.googlecode.com/svn/trunk/src/apps/MiniWeb/<\/a><\/p>\n<p>Blog post: <a href='http://dean.edwards.name/weblog/2007/05/miniweb/'>http://dean.edwards.name/weblog/2007/05/miniweb/<\/a><\/p>\n<% process('/system/record', path); %>","License":"<a href='http://www.opensource.org/licenses/mit-license.php'>http://www.opensource.org/licenses/mit-license.php<\/a>","Version":"<%= MiniWeb.version %>","revision":"2718"},"Terminal":"<style class='mw-system' type='text/css'>\n<% include('terminal.css'); %>\n<\/style>\n\n<div id='form'>\n<%\nvar STATE = '#state';\nvar terminal = MiniWeb.terminal;\nvar state = terminal[STATE];\n%>\n<div id='output'><%= state.output %><\/div>\n<span id='protocol'><%= terminal.protocol %><\/span><span id='path'><%= terminal.path %><\/span>&gt;\n<input id='input' spellcheck='false' autocomplete='off'>\n<\/div>\n\n<script type='text/javascript'>\n<% include('terminal.js'); %>\n<\/script>","edit-controls":"<span class='mw-edit-controls'>\n <span class='mw-edit-controls-inactive'>\n<% if (target != '/') { %>\n  <a href=\"javascript:deleteFile('<%= target %>')\">delete<\/a>\n<% } %>\n<% if (isFile(target)) { %>\n  <a href=\"javascript:beginEdit('<%= target %>')\">edit<\/a>\n<% } %>\n <\/span>\n <span class='mw-edit-controls-active'>\n  <a href=\"javascript:applyEdit('<%= target %>')\">apply<\/a>\n  <a href='javascript:cancelEdit()'>cancel<\/a>\n <\/span>\n<\/span>","edit.css":"/* Edit Controls */\n\n.mw-edit, .mw-data {\n\tposition: relative;\n\twidth: 100%;\n}\n\n.mw-edit-controls {\n\tposition: absolute;\n\tdisplay: block;\n\tright: 0;\n\tbottom: 2px;\n\tfont-weight: normal;\n\tcolor: GrayText;\n\ttext-align: right;\n}\n\nh1 .mw-edit-controls {\n\tfont-size: medium;\n}\n\nh2 .mw-edit-controls {\n\tfont-size: small;\n}\n\nh3 .mw-edit-controls {\n\tfont-size: x-small;\n}\n\n.mw-edit-controls a {\n\ttext-decoration: underline;\n\tpadding: 0 3px 0 2px;\n\tcursor: pointer;\n}\n\n.mw-edit-controls-inactive a {\n\tcolor: #408040;\n}\n\n.mw-edit-controls-active a {\n\tcolor: #EE0000;\n}\n\n.mw-active {\n\tcolor: #800000;\n\tborder-color: #800000 !important;\n}\n\n.mw-edit-controls-active,\n.mw-active .mw-edit-controls-inactive {\n\tdisplay: none;\n}\n\n.mw-edit-controls-inactive,\n.mw-active .mw-edit-controls-active {\n\tdisplay: block;\n}\n\n.mw-editor {\n\twidth: 100%;\n\tmargin: 0;\n\tborder: 1px solid #EFE7E7;\n}\n","edit.js":"\nvar Request = MiniWeb.Request;\nvar title, content, editor;\nvar editing = false;\n\nwindow.onunload = function() {\n  Request = null;\n}\n\nwindow.onload = function() {\n<% if (/^(edit|create)$/.test(mode)) { %>\n  beginEdit();\n<% } %>\n}\n\nfunction applyEdit(target) {\n  PUT(target, editor.value);\n<% if (/^(edit|create)$/.test(mode)) { %>\n  MiniWeb.navigateTo(target);\n<% } else { %>\n  MiniWeb.reload();\n<% } %>\n}\n\nfunction beginEdit(target, maximise) {\n  if (editing) cancelEdit();\n  editing = true;\n  if (!target) target = '<%= target %>';\n  target = target.replace(/^.*!/, \"\");\n  title = $('dt-' + target);\n  title.className = 'mw-edit mw-active';\n  var level = parseInt(title.tagName.slice(1));\n  content = $('dd-' + target);\n  if (maximise || level == 1) {\n    var height = parent.document.body.clientHeight - content.offsetTop - 64;\n  } else {\n    height = 48;\n  }\n  editor = document.createElement('textarea');\n  editor.className = 'mw-editor';\n  editor.spellcheck = false;\n  editor.style.height = height + 'px';\n<% if (mode == 'create') { %>\n  editor.value = '';\n<% } else { %>\n  editor.value = GET(target, {'Content-Type': 'text/plain'});\n<% } %>\n  content.parentNode.insertBefore(editor, content);\n  content.style.display = 'none';\n  editor.focus();\n}\n\nfunction cancelEdit() {\n  editing = false;\n<% if (/^(edit|create)$/.test(mode)) { %>\n  history.back();\n<% } else { %>\n  title.className = 'mw-edit';\n  content.parentNode.removeChild(editor);\n  content.style.display = 'block';\n<% } %>\n}\n\nfunction deleteFile(target) {\n  if (confirm('Delete ' + target + '?')) {\n    DELETE(target);\n    if (MiniWeb.client.address == target) {\n      history.back();\n    } else {\n      MiniWeb.reload();\n    }\n  }\n}\n\nfunction deleteDirectory(name) {\n  deleteFile(name);\n}\n\nfunction GET(url, header) {\n  return new Request('GET', url, null, header).responseText;\n}\n\nfunction PUT(url, data) {\n  new Request('PUT', url, data);\n}\n\nfunction DELETE(url) {\n  new Request('DELETE', url);\n}\n","directory.css":"/* Directory View */\n\n.mw-directory {\n  font-family: \"Lucida Console\", monspoace; font-size: small;\n}\n\n.mw-directory .directory a.edit,\n.mw-directory .parent a.delete {\n  visibility: hidden;\n}\n\n.mw-directory .total td {\n  padding-top: 1em;\n}\n\n.mw-directory .mw-edit-controls-inactive {\n  position: static;\n  text-align: right;\n}\n\n.mw-directory .mw-edit-controls-inactive a {\n  margin-right: 1ex;\n}\n\n.mw-directory td {\n  padding-right: 1em;\n  vertical-align: baseline;\n}\n\n.mw-directory .icon span {\n  background-color: #FFFFCC;\n}\n\n.mw-directory .size {\n  padding-right: 2em;\n  text-align: right;\n}","view.css":"/* Structure */\r\n\r\nhtml {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  padding: 1.33em 0;\r\n}\r\n\r\ntd {\r\n  font-size: 1em;\r\n}\r\n\r\n.mw-header, .mw-footer {\r\n  position: fixed;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 1.33em;\r\n  z-index: 999;\r\n}\r\n\r\n.mw-header {\r\n  top: 0;\r\n}\r\n\r\n.mw-footer {\r\n  bottom: 0;\r\n}\r\n\r\n.mw-content {\r\n  padding: 0 4em 0 2em;\r\n  margin: 2em 0;\r\n}\r\n\r\n/* Style */\r\n\r\nbody {\r\n  font-family: Verdana, Arial, sans-serif;\r\n}\r\n\r\np {\r\n  line-height: 1.33em;\r\n  text-align: justify;\r\n}\r\n\r\ncode, pre {\r\n  color: darkred;\r\n}\r\n\r\npre {\r\n  background-color: #FCFCFC;\r\n  border: 1px solid #CCC;\r\n  padding: 1ex;\r\n  margin: 1em 2em 1em 1em;\r\n}\r\n\r\npre, textarea {\r\n  font-family: Consolas, Monaco, \"Lucida Console\", \"Liberation Mono\", \"DejaVu Sans Mono\", \"Bitstream Vera Sans Mono\", \"Courier New\";\r\n  font-size: small;\r\n}\r\n\r\npre.mw-plain {\r\n  color: black;\r\n  margin: 0;\r\n  padding: 1px;\r\n  border: none;\r\n  background-color: transparent;\r\n}\r\n\r\ndt code {\r\n  font-weight: bold;\r\n  color: #000;\r\n}\r\n\r\ndt small, dt i {\r\n  font-weight: normal;\r\n  color: darkred;\r\n}\r\n\r\n.mw-header, .mw-footer {\r\n  background-color: #222;\r\n  color: #FFF;\r\n  font-size: smaller;\r\n}\r\n\r\n.mw-header {\r\n  font-weight: bold;\r\n  padding: 2px 0;\r\n}\r\n\r\n.mw-footer p {\r\n  margin: 0;\r\n  padding-right: 1ex;\r\n  text-align: right;\r\n}\r\n\r\n/* Links */\r\n\r\na {\r\n  color: #00E;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n}\r\n\r\na:visited,\r\na[href^=\"http\"]:visited,\r\na[href^=\"javascript\"]:visited,\r\na[href^=\"mailto\"]:visited {\r\n  color: #551A8B;\r\n}\r\n\r\na.mw-new {\r\n  color: #E00;\r\n  text-decoration: none;\r\n}\r\n\r\na.mw-new:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Menu */\r\n\r\n.mw-menu {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.mw-menu li {\r\n  display: inline;\r\n}\r\n\r\n.mw-menu a {\r\n  color: #fff !important;\r\n  text-decoration: none !important;\r\n  padding: 0 1ex;\r\n}\r\n\r\n.mw-menu a:hover {\r\n  color: gold !important;\r\n}\r\n\r\n.mw-save {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 1ex;\r\n}\r\n\r\n#mw-save.mw-dirty {\r\n  color: orangered !important;\r\n}\r\n\r\n#mw-save.mw-dirty:hover {\r\n  color: lime !important;\r\n}\r\n\r\n/* Headings */\r\n\r\nh1 {\r\n  border-bottom: 2px solid;\r\n}\r\n\r\nh2 {\r\n  border-bottom: 1px solid #808080;\r\n}\r\n\r\n/* Other */\r\n\r\np.mw-error b {\r\n  color: #E00;\r\n}","terminal.js":"var ABS    = /^\\//;\nvar BIN    = '/bin/';\nvar STATE  = '#state';\nvar HIDDEN = 'valueOf';\nvar TMP    = HIDDEN;\nvar STDIN  = 0;\nvar STDOUT = 1;\n\nextend(window, \"onload\", function() {\n  this.base();\n  setFocus();\n});\n\nvar terminal = MiniWeb.terminal;\nvar state = terminal[STATE];\nvar form = $('form');\nvar input = $('input');\nvar output = $('output');\nvar path = $('path');\nvar protocol = $('protocol');\nvar saveButton = $('mw-save');\nvar textContent = output.textContent ? 'textContent' : 'innerText';\n\nfunction setFocus() {\n  var client = input.scrollParent || document.documentElement;\n  if (!base2.detect('MSIE')) client.scrollTop = client.scrollHeight;\n  input.focus();\n};\n\nfunction clean(method) {\n  var dirty = MiniWeb.dirty\n  method.apply(terminal, Array.slice(arguments, 1));\n  MiniWeb.dirty = dirty;\n};\n\nfunction lookup(command) {\n  var path = terminal.path.split('/');\n  do {\n    path.pop();\n    var lookup = path.join('/') + '/bin/' + command;\n  } while (path.length && !terminal.exists(lookup));\n  return lookup;\n};\n\ninput.style.width = (form.offsetWidth - input.offsetLeft) + 'px';\n\ninput.onkeydown = function(event) {\n  event = event || window.event;\n  switch (event.keyCode) {\n    case 13: // return\n      var $output = [];\n      state.commands[state.position++] = input.value;\n      state.commands.length = state.position;\n      var prompt = state.protocol + terminal.path + '> ';\n      $output.push(prompt + input.value);\n      var streams = trim(input.value).split(/\\s*>\\s*/);\n      var $input = streams[STDIN].split(/\\s+/);\n      var command = $input[0];\n      if (command) {\n        var template = command;\n        var target = $input.slice(1).join(' ');\n        if (!terminal.isFile(template) && !ABS.test(template) && terminal.isFile(lookup(template))) {\n          clean(terminal.copy, lookup(template), TMP);\n          template = TMP;\n        }\n        if (terminal.isFile(template)) {\n          var result = terminal.exec(template, target);\n          clean(terminal.remove, TMP);\n          if (streams[STDOUT]) {\n            terminal.write(streams[STDOUT], result);\n          } else if (trim(result)) {\n            $output.push(result);\n          }\n        } else {\n          if (command == 'clear') {\n            output.innerHTML = '<pre>' + MiniWeb + '<\/pre><br>';\n            $output = [];\n          } else if (command == 'cd') {\n            if (terminal.isDirectory(target)) {\n              terminal.chdir(target);\n            } else {\n              $output.push('No such directory.');\n            }\n          } else {\n            $output.push('File not found: ' + command);\n          }\n        }\n        saveButton.className = MiniWeb.dirty ? 'mw-dirty' : '';\n      }\n      for (var i = 0; i < $output.length; i++) {\n        var node = document.createElement('pre');\n        node[textContent] = $output[i];\n        output.appendChild(node);\n      }\n      if (i) {\n        output.appendChild(document.createElement('br'));\n      }\n      state.output = output.innerHTML;\n      path[textContent] = terminal.path;\n      protocol[textContent] = terminal.protocol;\n      input.style.width = '0px'; // force recalc\n      input.style.width = (form.offsetWidth - input.offsetLeft) + 'px';\n      input.value = '';\n      setFocus();\n      return false;\n    case 38: // up-arrow\n      if (state.position > 0) {\n        input.value = state.commands[--state.position];\n      }\n      return false;\n    case 40: // down-arrow\n      if (state.position < state.commands.length - 1) {\n        input.value = state.commands[++state.position];\n      }\n      return false;\n  }\n};\n","terminal.css":"#form, #input, #output, pre {\n font-family: \"Lucida Console\", monospace;\n font-size: small;\n _font-size: x-small;\n border-width: 0;\n margin: 0;\n padding: 0;\n background-color: transparent;\n color: black;\n}\n\n#input {\n display: inline;\n vertical-align: bottom;\n}\n\n#output pre {\n max-width: 60em;\n _width: 60em;\n white-space: pre-wrap;\n white-space: -moz-pre-wrap;\n white-space: -pre-wrap;\n white-space: -o-pre-wrap;\n word-wrap: break-word;\n _padding-top: 1px;\n}\n","create":"","system.js":"<%\nset('isError', request && request.status > 299);\nset('level', 0); // heading level\nset('mode', '');\nif (query && /^\\/system\\/(view|edit|create)$/.test(top)) {\n  mode = target.slice(8);\n}\n%>"}
</script>
<script type="text/javascript">
MiniWeb.$$.bin={"echo":"<%= target %>","cat":"<%\nforEach (args(), function(path, index) {\n\tif (index) echo('\\n');\n\tif (path) echo(read(path));\n});\n%>","cp":"<%\nargs('path1,path2');\nif (path1 && path2) {\n\tif (exists(path1)) {\n\t\tcopy(path1, path2);\n\t} else {\n\t\techo(path1 + ': file not found.');\n\t}\n}\n%>","mv":"<%\nargs('path1,path2');\nif (path1 && path2) {\n\tif (exists(path1)) {\n\t\tmove(path1, path2);\n\t} else {\n\t\techo(path1 + ': file not found.');\n\t}\n}\n%>","rmdir":"<%\nif (isDirectory(target)) {\n\tremove(target);\n} else if (isFile(target)) {\n\techo(target + ': is not a directory.');\n} else {\n\techo(target + ': directory not found.');\n}\n%>","rm":"<%\nif (target != self) {\n\tif (isFile(target)) {\n\t\tremove(target);\n\t} else if (isDirectory(target)) {\n\t\techo(target + ': can\\'t delete a directory. use \"rmdir\" or \"rm -r\" instead.');\n\t} else {\n\t\techo(target + ': file not found.');\n\t}\n}\n%>","ed":"<%\n// open the file in the system editor\nif (target != self) {\n\tif (isDirectory(target)) {\n\t\techo('Cannot edit a directory.');\n\t} else if (isFile(target)) {\n\t\tMiniWeb.navigateTo('/system/edit!' + makepath(target));\n\t} else {\n\t\tMiniWeb.navigateTo('/system/create!' + makepath(target));\n\t}\n}\n%>","date":"<%= new Date().toLocaleString() %>","mkdir":"<%\nif (isDirectory(target)) {\n\techo(target + ': is already a directory.');\n} else if (isFile(target)) {\n\techo(target + ': is already a file.');\n} else {\n\tmkdir(target);\n}\n%>","save":"<%\nif (self != target) {\n\tif (MiniWeb.save(target)) {\n\t\techo(target ? 'saved as ' + target : 'saved.');\n\t}\n}\n%>","time":"<%= new Date().toLocaleTimeString() %>","grep":"<%\nif (target != self) {\n\targs('pattern,path');\n\tif (isDirectory(path)) {\n\t\tif (!/\\/$/.test(path)) {\n\t\t\tpath += \"/\";\n\t\t}\n\t\tforEach (read(path), function(data, name) {\n\t\t\techo(exec(self, pattern + ' ' + path + name));\n\t\t});\n\t} else if (isFile(path)) {\n\t\tpattern = new RegExp(pattern);\n\t\tif (pattern.test(read(path))) {\n\t\t\techo(path + ' matches.\\n');\n\t\t}\n\t} else {\n\t\techo(path + ': no such file or directory.\\n');\n\t}\n}\n%>","ls":"<%\n// display the contents of a directory\nif (isDirectory(target)) {\n\tvar PADDING = '           ';\n\tvar files = read(target).map(function(item, name) {\n\t\tname += item.isDirectory ? '/' : '';\n\t\treturn name + PADDING.slice(name.length % PADDING.length);\n\t});\n\techo(files.sort().join(''));\n} else {\n\techo('no such directory.');\n}\n%>","manual":{"ed":"usage: ed <path>\n\nEdit the file identified by path.","echo":"usage: echo <text>\n\nWrite text to the output buffer.","date":"usage: date\n\nReturns the current date.","time":"usage: time\n\nReturns the current time."},"man":"<%\nif (isFile('/bin/manual/' + target)) {\n\techo('help for command: ' + target + '\\n\\n' + exec('/bin/manual/' + target));\n} else if (!isFile('/bin/' + target)) {\n\techo('command not found: ' + target);\n} else {\n\techo('help not found for command: ' + target);\n}\n%>","help":"<%= read('/bin').filter(function(item) {\n  return !item.isDirectory;\n}).getKeys().sort().join('  ') %>\n\nYou can also call 'clear' to clear the terminal and 'cd' to change directory."}
</script>
<script type="text/javascript">
MiniWeb.$$.examples={"Simple_Form":"<form>\n <input type='text' name='text'>\n <button type='submit'>echo<\/button>\n<\/form>\n<hr>\n<p><%= request.post.text %><\/p>\n","Calculator":"<form>\n <input type='text' name='expression'>\n <button type='submit'>evaluate<\/button>\n<\/form>\n<hr>\n<% if (request.post) { %>\n<p><%= exec('bin/calc', request.post.expression) %><\/p>\n<% } %>\n","bin":{"hello-world":"<%='Hello World!'%>","multiply":"<%\nfunction multiply(first, second) {\n  return first * second;\n};\nvar factors = args();\nvar product = reduce(factors, multiply, 1);\necho(product);\n%>","calc":"<%\nvar result = NaN;\nvar INVALID = /[^\\s\\d\\/%*.+-]/;\ntry {\n if (!INVALID.test(target)) {\n  result = Number(eval(target));\n }\n} catch (e) {\n // ignore\n} finally {\n if (isNaN(result)) {\n  result = 'invalid expression';\n }\n echo(result);\n}\n%>"}}
</script>
<script type="text/javascript">
MiniWeb.$$.notes="<p>Stuff I gotta do:<\/p>\n<ul>\n <li><code>cd<\/code> is currently hard coded in <a href='#/system/terminal.js'><code>terminal.js<\/code><\/a><\/li>\n <li><del>client scripts don't need to maintain dirty state of MiniWeb<\/del><\/li>\n <li><del>simpler JST parser<\/del> simplify it further<\/li>\n <li><del>get templating working<\/del> <del>now get system inheritance working<\/del><\/li>\n <li><del>use echo() properly in Terminal<\/del><\/li>\n <li><del>../relative urls and<\/del> wild cards (*)<\/li>\n <li>Support more file systems: <ul>\n  <li><del>JSON<\/del><\/li>\n  <li>HTML<\/li>\n  <li>file://<\/li>\n  <li>Ajax<\/li>\n <\/ul><\/li>\n <li>import/export<\/li>\n <li>Preferences: <ul>\n  <li>Markdown/HTML/Plain text<\/li>\n <\/ul><\/li>\n<\/ul>"
</script>
<script type="text/javascript">
MiniWeb.$$.blog={"About":"<p>Write about yourself.<\/p>","Manage":"<p>You are invited to customise your blog:<\/p>\n<ul>\n <li>Edit blog <a href='#/data/blog/Properties/'>properties<\/a><\/li>\n <li>Edit blog <a href='#/data/blog/Preferences/'>preferences<\/a><\/li>\n <li>Edit the default <a href='#/system/edit!/blog/system/view'>view<\/a> (page structure)<\/li>\n <ul>\n  <li>Edit the <a href='#/system/edit!/blog/system/menu'>menu<\/a> template<\/li>\n  <li>Edit the <a href='#/system/edit!/blog/system/content'>content<\/a> template<\/li>\n  <li>Edit the <a href='#/system/edit!/blog/system/footer'>footer<\/a> template<\/li>\n  <li>Edit the <a href='#/system/edit!/blog/system/view.css'>style<\/a><\/li>\n <\/ul><\/li>\n <li>Edit <a href='#/system/edit!/blog/Manage'>this<\/a> page<\/li>\n<\/ul>\n<p>If you are feeling adventurous you can use the <a href='#/system/Terminal'>terminal<\/a> to modify the file system.<\/p>","Help":"<h2>How to use your blog<\/h2>\n<p>I need to write something here.<\/p>","Edit":"<% process('Write', target); %>","system":{"menu":"<ul class='menu'>\n <li class='mw-save'><a id='mw-save'<%= MiniWeb.dirty ? \" class='mw-dirty'\" : '' %> href='javascript:MiniWeb.save()'>Save<\/a><\/li>\n <li><a href='#/' title='Go to the MiniWeb start page'>/<\/a><\/li>\n <li><a href='#/blog/' title='Go to the start page of your blog'>Home<\/a><\/li>\n <li><a href='#/blog/Manage' title='Manage your blog'>Manage<\/a><\/li>\n <li><a href='#/blog/Write' title='Write a new post'>Write<\/a><\/li>\n <li><a href='#/blog/About/' title='About this blog'>About<\/a><\/li>\n<\/ul>\n","title":"<h1><%= read('/data/blog/Properties/title') %><\/h1>\n","footer":"<h3>Search<\/h3>\n<h3>Categories<\/h3>\n<h3>Archives<\/h3>","meta":"<p><%= MiniWeb %> | Revision <%= read('/system/Document/revision') %><\/p>\n","content":"<% if (target != '/blog/default') { %>\n<h2><%= target.replace(/\\/(\\w+\\/)*(\\w+)\\/?/, '$2').replace(/_/g, ' ') %><\/h2>\n<% } %>\n<div>\n<% include_once(target); %>\n<\/div>","view":"<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\">\n<html>\n<head>\n<title>MiniBlog: <%= target %><\/title>\n<%\n isError = request && request.status > 299;\n include_style('view.css');\n if (/^\\/blog\\/(Edit|Write)/.test(target)) {\n  include_style('editor.css');\n }\n%>\n<\/head>\n<body>\n <div class='title'><% include('title'); %><\/div>\n <div class='menu'><% include('menu'); %><\/div>\n <div class='content'><% include('content'); %><\/div>\n <div class='footer'><% include('footer'); %><\/div>\n <div class='meta'><% include('meta'); %><\/div>\n<\/body>\n<\/html>","view.css":"/* Structure */\n\nhtml {\n\tmargin: 0;\n\tpadding: 0;\n}\n\nbody {\n\tfont-family:\"Lucida Grande\", Verdana, Arial, Sans-Serif;\n\tmargin: 0;\n\tpadding: 2em 8em;\n\tbackground-color: #222222;\n}\n\n/* Colour */\n\ndiv.title , div.menu, div.content, div.footer, div.meta {\n\tcolor: #FFFFFF;\n\tmargin-top: 8px;\n\tpadding: 1ex 2em;\n\t-moz-border-radius: 5px;\n\tborder-radius: 5px;\n}\n\ndiv.title {\n\tbackground-color: #DD8822;\n}\n\ndiv.menu, div.meta {\n\tbackground-color: #88CC22;\n\tpadding: 2px 2em;\n\tfont-size: smaller;\n}\n\ndiv.content {\n\tbackground-color: #EEEEEE;\n\tcolor: #000000;\n}\n\ndiv.footer {\n\tbackground-color: #2288CC;\n\tfont-size: smaller;\n}\n\ndiv.footer, div.meta {\n\ttext-align: center;\n}\n\ndiv.meta p {\n\tmargin: 0;\n}\n\nh2 {\n\tborder-bottom: 2px solid;\n}\n\n/* Links */\n\na {\n\tcolor: #FFFFFF;\n\tcursor: pointer;\n\ttext-decoration: none;\n}\n\ndiv.content a {\n\tcolor: #0000EE;\n\ttext-decoration: underline;\n}\n\ndiv.content a:visited,\ndiv.content a[href^=\"http\"]:visited,\ndiv.content a[href^=\"javascript\"]:visited,\ndiv.content a[href^=\"mailto\"]:visited {\n\tcolor: #551A8B;\n}\n\na.mw-new {\n\tcolor: #EE0000;\n\ttext-decoration: none;\n}\n\na.mw-new:hover {\n\ttext-decoration: underline;\n}\n\n/* Menu */\n\nul.menu {\n\tmargin: 0;\n\tpadding: 0;\n\tfont-weight: bold;\n\ttext-transform: uppercase;\n}\n\nul.menu li {\n\tdisplay: inline;\n\tmargin-right: 1em;\n}\n\nul.menu a {\n\ttext-decoration: none;\n\tcolor: #FFFFFF;\n}\n\nul.menu a:hover {\n\ttext-decoration: underline;\n}\n\nul.meta {\n\tfont-size: smaller;\n}\n\n.mw-save {\n\tfloat: right;\n}\n\n#mw-save.mw-dirty {\n\tcolor: #F00 !important;\n}\n","editor.css":"textarea.editor, input {border: 1px solid silver;}\ntextarea.editor {width: 100%; margin-top: 0; clear: both;}\n#title, ul.meta h3 {border-bottom: none; margin-bottom: 0;}\nul.meta h3 {font-size: 1em;}\n#title input {font: inherit; float: left; border-bottom-width: 0;}\n#title button {float: left; margin-left: 8px;}\nul.meta {list-style: none; margin: 1em 0; padding: 0;}\nul.meta li {float: left; margin-right: 2em;}\n#title {zoom: 1; font-family: \"Lucida Grande\", Verdana, Arial, Sans-Serif;}\nh2 input {font-size: 1em; font-weight: bold;}"},"Post":"<%\nif (isDirectory(target)) {\n chdir(target);\n%>\n<div class='post'>\n <h2><%= read('Title') %><\/h2>\n <%= read('Content') %>\n <ul class='meta'>\n  <li>Posted on: <%= read('Timestamp') %><\/li>\n  <li>Categories: <%= read('Categories') %><\/li>\n  <li><a href='#Edit!<%= target.replace(/^.*\\//, '') %>'>Edit this post<\/a><\/li>\n <\/ul>\n<\/div>\n<% } %>","Write":"<% if (request.post && request.post.Title) {\n if (!request.post.Slug) {\n  request.post.Slug = request.post.Title.replace(/\\s+/g, '_').replace(/!/g, \"\");\n }\n write('/data/blog/posts/' + request.post.Slug, JSON.copy(request.post));\n%>\n<p class='message'>Post saved. <a href='#/blog/'>View blog posts<\/a>.<\/p>\n<% } %>\n<form>\n<%\nvar post = {\n Slug: '',\n Title: '',\n Content: '',\n Timestamp: JSON.parse(JSON.toString(new Date)),\n Format: '',\n Categories: ''\n};\nif (query) {\n var postDir = '/data/blog/posts/' + query + '/';\n forEach (read(postDir), function(item, name) {\n  post[name] = read(postDir + name);\n });\n}\n%>\n<h2 id='title'><input name='Title' value='<%= escapeHTML(post.Title) %>'><button type='submit' value='post'>Post<\/button><\/h2>\n<script type='text/javascript'>\nvar title = document.getElementById('title');\ntitle.firstChild.style.width = (title.offsetWidth - title.lastChild.offsetWidth - 32) + 'px';\n<\/script>\n<textarea name='Content' class='editor' rows='16'><%= escapeHTML(post.Content) %><\/textarea>\n<br style='clear:both'>\n<ul class='meta'>\n <li><h3>Categories<\/h3>\n<%\n var categories = read('/data/blog/categories/');\n%>\n  <select name='Categories' size='<%= Math.min(categories.size(), 8) %>' multiple>\n<%\n forEach (categories, function(item, category) {\n%>\n   <option><%= category %><\/option>\n<%\n });\n%>\n  <\/select><\/li>\n <li><h3>Timestamp<\/h3><input name='Timestamp' value='<%= post.Timestamp %>'><\/li>\n <li><h3>Format<\/h3>\n  <select name='Format'>\n   <option>HTML<\/option>\n   <option disabled>Markdown<\/option>\n  <\/select><\/li>\n<\/ul>\n<input type='hidden' name=\"Slug\" value='<%= post.Slug%>'>\n<\/form>\n<br style='clear:both'>\n<hr>\n<br style='clear:both'>","default":"<%\nvar posts = read('/data/blog/posts/');\nvar max = Math.max(posts.size(), 8);\nvar slugs = posts.getKeys().slice(0, max);\nforEach (slugs.reverse(), function(slug) {\n\tprocess(\"Post\", '/data/blog/posts/' + slug);\n})\n%>"}
</script>
<script type="text/javascript">
MiniWeb.$$.doc={"system":{"view":"<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01//EN\"><%\n include_once('system.js');\n%><html>\n<head>\n<title><%= query %><\/title>\n<%\n // CSS\n include_style('view.css');\n include_style('edit.css');\n include_style('syntax.css');\n\n // JavaScript\n include_script('view.js');\n include_script('edit.js');\n%>\n<\/head>\n<body>\n <div class='header'><% include('header'); %><\/div>\n <div class='content'><% include('content'); %><\/div>\n <div class='footer'><% include('footer'); %><\/div>\n<\/body><%\n objectID = undefined;\n currentObject = undefined;\n%><\/html>","content":"<%\nif (typeof currentObject == 'undefined') {\n if (typeof objectID == 'undefined') {\n  include_once(target);\n } else {\n  include_once('Not_Found');\n }\n} else {\n include_once('current_object');\n}\n%>","header":"<ul class='menu'><!--\n--><li><a href='#/doc/!base2'>Home<\/a><\/li><!--\n--><li>|<\/li><!--\n--><li><a href='#/system/view!/doc/system/'>Admin<\/a><\/li><!--\n--><li>|<\/li><!--\n--><li><a href='#/doc/About'>About<\/a><\/li><!--\n--><li>|<\/li><!--\n--><li class='mw-save'><a id='mw-save'<%= MiniWeb.dirty ? \" class='mw-dirty'\" : '' %> href='javascript:MiniWeb.save()'>Save<\/a><\/li><!--\n--><\/ul>\n","footer":"<p><%= MiniWeb %>, revision <%= read('/system/About/revision') %><\/p>\n","edit-controls":"<span class='edit-controls'>\n <span class='edit'>\n  [<a href=\"javascript:beginEdit('<%= target %>')\">edit<\/a>]\n <\/span>\n <span class='apply'>\n  [<a href=\"javascript:applyEdit('<%= target %>')\">apply<\/a>]\n  [<a href='javascript:cancelEdit()'>cancel<\/a>]\n <\/span>\n<\/span>","edit.css":"/* Edit Controls */\n\n.title, .data {\n\tposition: relative;\n\twidth: 100%;\n}\n\n.edit-controls {\n\tposition: absolute;\n\tdisplay: block;\n\tright: 0;\n\tbottom: 2px;\n\tfont-weight: normal;\n\tcolor: GrayText;\n\ttext-align: right;\n}\n\nh1 .edit-controls {\n\tfont-size: medium;\n}\n\nh2 .edit-controls {\n\tfont-size: small;\n}\n\nh3 .edit-controls {\n\tfont-size: x-small;\n}\n\n.edit-controls a {\n\ttext-decoration: underline;\n\tpadding: 0 3px 0 2px;\n\tcursor: pointer;\n\tcolor: #408040;\n}\n\n.active a {\n\tcolor: #EE0000;\n}\n\n.active {\n\tcolor: #800000;\n\tborder-color: #800000 !important;\n}\n\n.active .edit,\n.inactive .apply {\n\tdisplay: none;\n}\n\n.inactive .edit,\n.active .apply {\n\tdisplay: block;\n}\n\n.editor {\n\twidth: 100%;\n\tmargin: 0;\n\tborder: 1px solid #EFE7E7;\n}","edit.js":"var editing = false;\nvar content, editor, title;\n\nfunction applyEdit(target) {\n if (editor.value) {\n  doc.data.write('<%= objectID %>', target, editor.value);\n } else {\n  doc.data.remove('<%= objectID %>', target);\n }\n MiniWeb.reload();\n}\n\nfunction beginEdit(target) {\n if (editing) cancelEdit();\n editing = true;\n title = $('#dt-' + target);\n content = $('#dd-' + target);\n editor = document.createElement('textarea');\n title.className = 'title active';\n var height = Math.min(Math.max(content.offsetHeight, 120), 480);\n editor.className = 'editor';\n editor.spellcheck = false;\n editor.style.height = height + 'px';\n editor.value = doc.data.read('<%= objectID %>', target);\n content.parentNode.insertBefore(editor, content);\n content.style.display = 'none';\n editor.focus();\n}\n\nfunction cancelEdit() {\n editing = false;\n title.className = 'title inactive';\n content.parentNode.removeChild(editor);\n content.style.display = 'block';\n}","view.js":"var SHOW_INHERITED = '/data/doc/Preferences/Show_Inherited';\n\nDOM.bind(document);\n\nvar Request = MiniWeb.Request;\nvar $ = bind(document.querySelector, document);\n\nfunction GET(url, header) {\n var response = new Request('GET', url, null, header);\n return response.status == 200 ? response.responseText : '';\n}\n\nfunction PUT(url, data) {\n new Request('PUT', url, data);\n}\n\nwindow.onload = function() {\n forEach(document.querySelectorAll('pre.base2'), function(element) {\n  var textContent = DOM.Traversal.getTextContent(element);\n  element.innerHTML = doc.colorize(textContent);\n  element.classList.add('highlight javascript');\n });\n if (GET(SHOW_INHERITED, {'Content-Type': 'text/plain'})) {\n  $('div.content').classList.add('show-inherited');\n }\n}\n\nextend(window, \"onunload\", function() {\n this.base();\n Request = null;\n});\n\nfunction hide(target) {\n $('#dt-' + target).className = 'title hidden';\n $('#dd-' + target).style.display = \"\";\n}\n\nfunction show(target) {\n $('#dt-' + target).className = 'title visible';\n $('#dd-' + target).style.display = \"block\";\n}\n\nfunction toggleInherited(checkbox) {\n var dirty = MiniWeb.dirty;\n PUT(SHOW_INHERITED, checkbox.checked ? ' checked' : '');\n MiniWeb.dirty = dirty;\n if (checkbox.checked) {\n  $('div.content').classList.add('show-inherited');\n } else {\n  $('div.content').classList.remove('show-inherited');\n }\n}","view.css":"/* Structure */\n\nhtml {\n margin: 0;\n padding: 0;\n}\n\nbody {\n margin: 1ex 5em 0 3em;\n}\n\n/* Style */\n\nbody {\n font-family: \"Trebuchet MS\", Verdana, Geneva, Arial, Helvetica, sans-serif;\n}\n\np {\n line-height: 1.2em;\n text-align: justify;\n}\n\np.properties {\n margin-top: 1ex;\n text-align: left;\n}\n\np.nb {\n padding: 1em;\n background-color: #FFC;\n border: 1px solid #E6E9F9;\n\n}\n\npre {\n background-color: #FCFCFC;\n border: 1px solid #CCC;\n padding: 1ex;\n margin: 1em 0;\n overflow: auto;\n}\n\npre.source {\n display: none;\n}\n\ncode, pre, textarea, .value {\n font-family: monospace;\n font-size: inherit;\n}\n\ncode {\n font-weight: bold;\n}\n\npre.plain {\n color: black;\n margin: 0;\n padding: 1px;\n border: none;\n background-color: transparent;\n}\n\n.header {\n font-weight: bold;\n}\n\n.footer {\n border-top: 1px solid #808080;\n margin: 8em 0 1em 0;\n padding-top: 1ex;\n font-size: x-small;\n color: #808080;\n}\n\n.footer p {\n margin: 0;\n text-align: right;\n}\n\n.title .text {\n font-weight: normal;\n font-size: 0.5em;\n}\n\n/* Links */\n\na {\n color: #00E;\n cursor: pointer;\n}\n\nh1 a,\ncode a,\n.menu a,\n.properties a {\n text-decoration: none;\n}\n\na:hover {\n text-decoration: underline;\n}\n\na:visited,\na[href^=\"http\"]:visited,\na[href^=\"javascript\"]:visited,\na[href^=\"mailto\"]:visited {\n color: #551A8B;\n}\n\n.properties a {\n margin-right: 1ex;\n}\n\na.inherited {\n display: none;\n}\n\n.show-inherited a.inherited {\n display: inline;\n}\n\n/* Menu */\n\n.menu {\n margin: 0;\n padding: 0;\n font-size: smaller;\n}\n\n.menu li {\n display: inline;\n margin-right: 1ex;\n}\n\n#mw-save {\n padding: 0 1ex;\n}\n\n#mw-save.mw-dirty {\n background-color: orangered !important;\n color: #FFF !important;\n}\n\n/* Headings */\n\nh1 {\n border-bottom: 2px solid;\n}\n\nh2 {\n font-size: 1.33em;\n border-bottom: 1px solid #CCC;\n}\n\nh3 {\n font-size: 1em;\n margin: 1ex 0;\n}\n\n/* Other */\n\np.error b {\n color: #E00;\n}\n\n\n.visible .show,\n.hidden .hide {\n display: none;\n}\n\n.hidden .show,\n.visible .hide {\n display: block;\n}","classes":"<h2>Classes<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined') {\n echo(reduce(currentObject, function(classes, _class, name) {\n if (_class instanceof Function && Base.ancestorOf == _class.ancestorOf && !Module.ancestorOf(_class)) {\n   classes.push(format(\"<a href='#/doc/!%1.%2'>%2<\/a>\", objectID, name));\n  }\n  return classes;\n }, []).sort().join(WBR) || 'None.');\n}\n%><\/p>","modules":"<%\nif (typeof currentObject != 'undefined') {\n var modules = reduce(currentObject, function(modules, module, name) {\n if (Module.ancestorOf(module) && /^\\w+$/.test(name)) {\n   modules.push(format(\"<a href='#/doc/!%1.%2'>%2<\/a>\", objectID, name));\n  }\n  return modules;\n }, []).sort().join(WBR);\n if (modules) {\n%>\n<h2>Modules<\/h2>\n<p class='properties'><%= modules %><\/p>\n<%\n }\n}\n%>","properties":"<h2>Properties<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined') {\n var properties = [];\n forEach (currentObject, function(property, name) {\n if (!CONSTANT.test(name) && !instanceOf(property, Function) && !(instanceOf(property, Package) && name != 'parent') && /^[\\w$]/.test(name)) {\n   var href = objectID + '.' + name;\n   try {\n    if (property && typeof property['#name'] == 'string') {\n     href = property['#name'];\n    }\n   } catch (e){}\n   properties.push(format(\"<a class='sort-%2' href='#/doc/!%1'>%2<\/a>\", href, name));\n  }\n }, null, Object);\n echo(properties.sort().join(WBR) || 'None.');\n}\n%><\/p>","methods":"<h2>Methods<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined') {\n var methods = [];\n forEach (currentObject, function(method, name) {\n  if (instanceOf(method, Function) && Base.ancestorOf != method.ancestorOf) {\n   var href = objectID + '.' + name;\n   if (method && typeof method['#name'] == 'string') {\n    href = method['#name'];\n   }\n   methods.push(format(\"<a class='sort-%2' href='#/doc/!%1'>%2<\/a>\", href, name));\n  }\n }, null, Object);\n echo(methods.sort().join(WBR) || 'None.');\n}\n%><\/p>","instance_methods":"<h2>Instance Methods<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined') {\n var methods = [];\n var ancestor = currentObject.ancestor.prototype;\n forEach (currentObject.prototype, function(method, name) {\n if (method instanceof Function) {\n   var inherited = ancestor[name] == undefined ? '' : 'inherited';\n   methods.push(format(\"<a href='#/doc/!%1::%2' class='%3'>%2<\/a>\", objectID, name, inherited));\n  }\n }, null, Object);\n echo(methods.sort().join(WBR) || 'None.');\n}\n%><\/p>","instance_properties":"<h2>Instance Properties<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined') {\n var properties = [];\n var ancestor = currentObject.ancestor.prototype;\n forEach (currentObject.prototype, function(property, name) {\n if (!(property instanceof Function) && !CONSTANT.test(name) && /^[\\w$]/.test(name)) {\n   var inherited = ancestor[name] == undefined ? '' : 'inherited';\n   properties.push(format(\"<a href='#/doc/!%1::%2' class='%3'>%2<\/a>\", objectID, name, inherited));\n  }\n }, null, Object);\n echo(properties.sort().join(WBR) || 'None.');\n}\n%><\/p>","constants":"<%\nif (typeof currentObject != 'undefined') {\n var constants = reduce(currentObject, function(constants, constant, name) {\n  if (CONSTANT.test(name) && !(constant instanceof Package)) {\n   constants.push(format(\"<a href='#/doc/!%1.%2'>%2<\/a>\", objectID, name));\n  }\n  return constants;\n }, []).sort().join(WBR);\n if (constants) {\n%>\n<h2>Constants<\/h2>\n<p class='properties'><%= constants %><\/p>\n<%\n }\n}\n%>","section":"<%\nif (typeof currentObject != 'undefined') {\n var separator = /:/.test(objectID) ? '::' : /\\./.test(objectID) ? '.' : '';\n var objectName = objectID.split(/\\.|::/);\n var propertyName = objectName.pop();\n objectName = objectName.join('.');\n var sourceID = objectName + separator + propertyName;\n var object, method;\n try {eval('object=' + objectName)}catch(e){}\n while (object && !doc.data.exists(sourceID, target)) {\n  try {eval('method=' + sourceID.replace(/::/, '.prototype.'))}catch(e){}\n  if (method && method._module && method._module != object && !object.ancestorOf(method._module)) {\n   object = method._module;\n   objectName = object['#name'];\n  } else {\n   try {\n    if (!(object instanceof Function)) {\n     object = object.constructor;\n     objectName = object['#name'];\n     separator = '::';\n    } else {\n     var klass = object.ancestor;\n     while (klass && !klass['#name']) {\n      klass = klass.ancestor;\n     }\n     objectName = klass['#name'];\n     eval('object=' + objectName);\n    }\n   } catch(e){object=null}\n  }\n  sourceID = objectName + separator + propertyName;\n }\n var inherited = objectID == sourceID ? '' : ' inherited';\n%>\n<h2 class='title inactive' id='dt-<%= target %>'><%= target %><% include('edit-controls'); %><\/h2>\n<div class='section<%= inherited %>' id='dd-<%= target %>'>\n<% include(doc.data.makepath(sourceID, target)); %>\n<\/div>\n<% } %>","title":"<%\nvar type = typeof currentObject;\nvar title = type == 'undefined' ? '' : currentObject == global ? exec('linkify', 'base2') + '.global' : exec('linkify', objectID);\nvar text = '';\nif ((type == 'object' || type == 'function') && currentObject) {\n if (currentObject instanceof Function) {\n  if (Base.ancestorOf == currentObject.ancestorOf) {\n   type = \"class\";\n   text = ' extends ';\n   if (Module.ancestorOf(currentObject)) {\n    type = \"module\";\n   }\n   var klass = currentObject.ancestor;\n  } else {\n   type = \"function\";\n  }\n } else {\n  type = 'object'\n  text = ' instanceof ';\n  klass = currentObject.constructor;\n }\n while (klass && !klass['#name']) {\n  klass = klass.ancestor;\n }\n if (type != 'function') {\n  if (klass) {\n   text += exec('linkify', klass['#name']);\n  } else if (instanceOf(currentObject, global.Array)) {\n   text += 'Array';\n  } else if (instanceOf(currentObject, global.RegExp)) {\n   text += 'RegExp';\n  } else if (instanceOf(currentObject, global.Date)) {\n   text += 'Date';\n  } else {\n   text += 'Object';\n  }\n }\n}\n%>\n<h1 class='title'><i class='text'><%= type %><\/i> <%= title %> <span class='text'><%= text %><\/span><\/h1>","system.js":"<% \nset('WBR', detect('MSIE') ? '<wbr>' : ' ');\nset('objectID', query || undefined);\nset('currentObject', undefined);\nset('CONSTANT', /^[A-Z_$][A-Z_\\d$]*$/);\ntry {\n if (query) {\n  eval('currentObject=' + objectID.replace(/::/, '.prototype.'));\n }\n} catch (e){}\n%>","syntax.css":"/* defaults */\n\n.highlight span {\n  display: inline !important;\n}\n\n.highlight .comment {\n  color: green;\n}\n\n.highlight .conditional {\n  background: #FFFFA0; /* pale yellow */\n}\n\n.highlight .string,\n.highlight .regexp,\n.highlight .number {\n  color: darkred;\n}\n\n.highlight .keyword {\n  color: blue;\n}\n\n.highlight .special {\n  color: red;\n}\n\n.highlight .tag {\n  color: purple;\n  font-weight: bold;\n}\n\n.highlight .attribute {\n  font-weight: bold;\n}\n\n.highlight .attribute.value {\n  color: blue;\n  font-weight: normal;\n}\n\n.highlight .entity {\n  color: orangered;\n}\n\n.highlight .processing-instruction {\n  color: orchid;\n  font-style: italic;\n}\n\n.highlight .cdata {\n  /* no styling */\n}\n\n/* (X)HTML */\n\n.html .doctype {\n  color: steelblue;\n  font-style: italic;\n}\n\n/* CSS */\n\n.css .comment {\n  color: gray;\n}\n\n.css .selector {\n  color: darkred;\n  font-weight: bold;\n}\n\n.css .at_rule {\n  color: orangered;\n}\n\n.css .property {\n  font-weight: bold;\n}\n\n.css .property.value {\n  color: blue;\n  font-weight: normal;\n}\n\n/* JavaScript */\n\n.javascript .global {\n  color: teal;\n}\n\n.javascript .base2 {\n  color: purple;\n}","Value":"<h2 class='title inactive' id='dt-Value'>Value<\/h2>\n<div class='section value' id='dd-Value'>\n<%= typeof currentObject == 'undefined' ? 'undefined' : escapeHTML(currentObject) %>\n<\/div>","module_methods":"<h2>Module Methods<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined' && Module.ancestorOf(currentObject)) {\n var ancestor = currentObject.ancestor;\n function isDelegate(method) { // for DOM.Interfaces\n  while (method && !method._delegate) {\n   method = \"ancestor\" in method ? method.ancestor : null;\n  }\n  return method && method._delegate;\n };\n echo(reduce(currentObject, function(methods, method, name) {\n if (method instanceof Function && (currentObject.prototype[name] || isDelegate(method))) {\n   var inherited = ancestor[name] == undefined ? '' : 'inherited';\n   methods.push(format(\"<a href='#/doc/!%1.%2' class='%3'>%2<\/a>\", objectID, name, inherited));\n  }\n  return methods;\n }, []).sort().join(WBR) || 'None.');\n}\n%><\/p>","class_properties":"<%\nif (typeof currentObject != 'undefined') {\n var ancestor = currentObject.ancestor;\n var properties = {};\n forEach (currentObject, function(property, name) {\n  properties[name] = property;\n }, null, Function);\n delete properties.forEach;\n properties = reduce(properties, function(properties, property, name) {\n if (!CONSTANT.test(name) && (!(property instanceof Function) || name == 'Item') && /^[\\w$]/.test(name)) {\n   var inherited = ancestor[name] != property ? '' : 'inherited';\n   var href = objectID + '.' + name;\n   try {\n    if (property && typeof property['#name'] == 'string') {\n     href = property['#name'];\n    }\n   } catch (e) {}\n   properties.push(format(\"<a class='sort-%2 %3' href='#/doc/!%1'>%2<\/a>\", href, name, inherited));\n  }\n  return properties;\n }, []).sort().join(WBR);\n if (properties) {\n%>\n<h2>Class Properties<\/h2>\n<p class='properties'><%= properties %><\/p>\n<%\n }\n}\n%>","class_methods":"<h2>Class Methods<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined') {\n var ancestor = currentObject.ancestor;\n echo(reduce(currentObject, function(methods, method, name) {\n if (method instanceof Function && Base.ancestor != method.ancestor && !Base.ancestorOf(method) && !/^(ancestor|init|Item)$/.test(name) && !CONSTANT.test(name)) {\n   var inherited = ancestor[name] == undefined ? '' : 'inherited';\n   methods.push(format(\"<a href='#/doc/!%1.%2' class='%3'>%2<\/a>\", objectID, name, inherited));\n  }\n  return methods;\n }, []).sort().join(WBR) || 'None.');\n}\n%><\/p>","module_methods(class)":"<h2>Class Methods<\/h2>\n<p class='properties'><%\nif (typeof currentObject != 'undefined' && Module.ancestorOf(currentObject)) {\n function isDelegate(method) { // for DOM.Interfaces\n  while (method && !method._delegate) {\n   method = \"ancestor\" in method ? method.ancestor : null;\n  }\n  return method && method._delegate;\n };\n var methods = {};\n forEach (currentObject, function(method, name) {\n  methods[name] = method;\n }, null, Object);\n delete methods.forEach;\n var ancestor = currentObject.ancestor;\n echo(reduce(methods, function(methods, method, name) {\n if (method instanceof Function && (!currentObject.prototype[name] || name == 'extend') && !/^(ancestor|init)$/.test(name) && !isDelegate(method)) {\n   var inherited = ancestor[name] == undefined ? '' : 'inherited';\n   methods.push(format(\"<a href='#/doc/!%1.%2' class='%3'>%2<\/a>\", objectID, name, inherited));\n  }\n  return methods;\n }, [format(\"<a href='#/doc/!%1.%2' class='%3'>%2<\/a>\", objectID, \"forEach\", \"inherited\")]).sort().join(WBR) || 'None.');\n}\n%><\/p>","class":"<%\n include('show_inherited');\n process('section', 'Summary');\n process('Constructor', 'Constructor');\n include('instance_properties');\n include('instance_methods');\n include('constants');\n include('class_properties');\n include('class_methods');\n process('implementations', 'Implements');\n process('implementations', 'Implemented By');\n process('section', 'Examples');\n process('section', 'Notes');\n%>","module":"<%\n include('show_inherited');\n process('section', 'Summary');\n include('module_methods');\n include('class_constants');\n include('class_properties');\n include('module_methods(class)');\n process('implementations', 'Implements');\n process('implementations', 'Implemented By');\n process('section', 'Examples');\n process('section', 'Notes');\n%>","property":"<%\n process('section', 'Summary');\n include('Value');\n process('section', 'Examples');\n process('section', 'Notes');\n%>","function":"<%\n process('section', 'Summary');\n process('section', 'Syntax');\n include('source_code');\n process('section', 'Examples');\n process('section', 'Notes');\n%>","object":"<%\nif (typeof currentObject != 'undefined') {\n process('section', 'Summary');\n if (currentObject != global) {\n   include('constants');\n   include('properties');\n   include('methods');\n }\n process('section', 'Examples');\n process('section', 'Notes');\n}\n%>","Not_Found":"<h1>Not Found<\/h1>\n<p class='error'>The reference <b><%= query %><\/b> could not be found.<\/p>\n<p><a href='javascript:history.back()'>Go back<\/a>.<\/p>","source_code":"<h2 class='title hidden' id='dt-source_code'>Source Code\n<span class='edit-controls'>\n <span class='show'>\n  [<a href=\"javascript:show('source_code')\">show<\/a>]\n <\/span>\n <span class='hide'>\n  [<a href=\"javascript:hide('source_code')\">hide<\/a>]\n <\/span>\n<\/span>\n<\/h2>\n<pre class='base2 source' id='dd-source_code'>\n<%= typeof currentObject == 'undefined' ? '' : escapeHTML(currentObject) %>\n<\/pre>","current_object":"<%\nif (typeof currentObject != 'undefined') {\n include('title');\n if (currentObject instanceof Package) {\n  include('package');\n } else if (currentObject instanceof Function) {\n  if (Module.ancestorOf(currentObject)) {\n   include('module');\n  } else if (Base.ancestor == currentObject.ancestor || Base.ancestorOf(currentObject)) {\n   include('class');\n  } else {\n   include('function');\n  }\n } else {\n  if (typeof currentObject == 'object') {\n   include('object');\n  } else {\n   include('property');\n  }\n }\n}\n%>","method_name":"<%\nif (typeof objectID != 'undefined') {\n  var isProto = /::/.test(objectID);\n  var names = objectID.split(/\\.|::/).slice(-2);\n  if (isProto) names[0] = names[0].toLowerCase();\n  echo(names.join('.'));\n}\n%>","object_name":"<%\nif (typeof objectID != 'undefined') {\n  var names = objectID.split(/\\.|::/);\n  echo(names[names.length - 2]);\n}\n%>","instance_name":"<%\nif (typeof objectID != 'undefined') {\n  var names = objectID.split(/\\.|::/).slice(-2);\n  echo(names.item(-1).toLowerCase());\n}\n%>","implementations":"<%\nif (typeof currentObject != 'undefined') {\n var implementations = map(currentObject['#' + target.toLowerCase().replace(' ', '_')], function(klass) {\n  var name = klass['#name'] || '';\n  var sourceID = objectID.split('.');\n  var targetID = name.split('.');\n  while (sourceID[0] == targetID[0]) {\n   sourceID.shift();\n   targetID.shift()\n  }\n  return format(\"<a href='#/doc/!%1'>%2<\/a>\", name, targetID.join('.'));\n }).sort().join(WBR);\n if (implementations) {\n%>\n<h2><%= target %><\/h2>\n<p class='properties'><%= implementations %><\/p>\n<%\n }\n}\n%>","package":"<%\n process('section', 'Summary');\n include('classes');\n include('modules');\n include('properties');\n include('methods');\n include('packages');\n process('section', 'Examples');\n process('section', 'Notes');\n%>","packages":"<%\nif (typeof currentObject != 'undefined') {\n var packages = reduce(currentObject, function(packages, pkg, name) {\n  if (pkg instanceof Package && /^\\w+$/.test(name) && doc.show[name]) {\n   packages.push(format(\"<a href='#/doc/!%1.%2'>%2<\/a>\", objectID, name));\n  }\n  return packages;\n }, []).sort().join(WBR);\n if (packages) {\n%>\n<h2>Packages<\/h2>\n<p class='properties'><%= packages %><\/p>\n<%\n }\n}\n%>","show_inherited":"<label style='font-size:smaller'><input onclick='toggleInherited(this)' type='checkbox'<% include('/data/doc/Preferences/Show_Inherited')%>> Show inherited properties and methods?<\/label>","linkify":"<%\nvar LINK = '%1<a class=\"title-link\" href=\"#/doc/!%2\">%3<\/a>';\nvar href = '';\nvar link = target.replace(/(^|\\.|::)([^\\.:]+)/g, function(match, separator, name) {\n  href += match;\n  return (typeof objectID != \"undefined\" && href != objectID) ? format(LINK, separator, href, name) : match;\n});\necho(link);\n%>","class_name":"<%\nif (typeof objectID != 'undefined') {\n  var names = objectID.split(/\\.|::/).slice(-2);\n  echo(names.item(-1));\n}\n%>","Constructor":"<%\nif (typeof currentObject != 'undefined') {\n var object = currentObject;\n while (object && !doc.data.exists(object['#name'], 'Constructor')) {\n  object = object.ancestor;\n }\n%>\n<h2 class='title inactive' id='dt-Constructor'>Constructor<% include('edit-controls'); %><\/h2>\n<div class='section' id='dd-Constructor'>\n<% if (object) include(doc.data.makepath(object['#name'], 'Constructor')); %>\n<\/div>\n<% } %>"},"About":"<h1>About<\/h1>\n<p>This system completely separates code and documentation but maintains a strong link between the two. The system scans loaded JavaScript files and builds a framework for instantly annotating functions, objects, classes etc. Because the documentation is built by reading JavaScript source code it is always, at least at a basic level, up to date.<\/p>\n<p>If you edit this page on your local hard drive then you can save a copy after making changes. The documentation stays in this HTML page and the JavaScript code stays in a separate file. If you make later changes to your source code they will be reflected in this page immediately you reload it.<\/p>","default":"<h1>base2 Documentation System<\/h1>\n<p>Weclome to the base2/MiniWeb documentation system.<\/p>\n<ul>\n <li><a href='#/doc/!base2'>base2<\/a><\/li>\n <li><a href='#/doc/!base2.MiniWeb'>MiniWeb<\/a><\/li>\n<\/ul>"}
</script>
<body>
<script type="text/javascript">
MiniWeb.$$.data.doc={"Preferences":{"Show_Inherited":" checked"},"entries":{"base2":{"assignID":{"#Examples":"<pre class='base2'>\nvar object = {};\nbase2.assignID(object);\nprint(object.base2ID); // => \"b2_12\"\n<\/pre>","#Summary":"Assign a unique identifier (<code>base2ID<\/code>) to an object.","#Syntax":"<pre class='base2'>\nvar uid = assignID(object);\n<\/pre>"},"Enumerable":{"#Examples":"<p>Apply the Enumerable interface to a class:<\/p>\n<pre class='base2'>\nMyListClass.implement(Enumerable);\n<\/pre>\n<p>Apply the Enumerable interface to an object:<\/p>\n<pre class='base2'>\nvar obj = {a: 1, b: 2, c: 3};\nEnumerable(obj);\nfunction even(number) {\n  return number % 2 == 0;\n};\nobj.some(even); // => true\n<\/pre>","#Summary":"<p>The Enumerable module defines common methods for enumeration of a collection or array (or any other object).<\/p>","map":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object, block[, context]);\n<\/pre>"},"reduce":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object, block[, start[, context]]);\n<\/pre>"},"filter":{"#Syntax":"<pre class='base2'>\r\nvar result = <% include('/doc/system/method_name'); %>(object, test[, context]);\r\n<\/pre>"},"every":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object, test[, context]);\n<\/pre>"},"some":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object, test[, context]);\n<\/pre>"},"invoke":{"#Syntax":"<p>Invoke a method by name:<\/p>\n<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object, methodName);\n<\/pre>\n<p>Invoke a method directly:<\/p>\n<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object, method);\n<\/pre>"},"pluck":{"#Syntax":"<pre class='base2'>\nvar values = <% include('/doc/system/method_name'); %>(object, propertyName);\n<\/pre>","#Summary":"<p>Retrieve the same property for all items in the enumerable object.<\/p>"},"forEach":{"#Syntax":"<pre class='base2'>\nforEach (object, block[, context[, fn]]);\n<\/pre>"},"prototype":{"every":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(test[, context]);\n<\/pre>","#Summary":"<p>Runs the function <i>test<\/i> over each item in the <% include('/doc/system/object_name'); %>. Returns true if the function returns true for every item. The function will stop running as soon as one of the items fails <i>test<\/i>.<\/p>"},"filter":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(test[, context]);\n<\/pre>"},"invoke":{"#Syntax":"<p>Invoke a method by name:<\/p>\n<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(methodName);\n<\/pre>\n<p>Invoke a method directly:<\/p>\n<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(method);\n<\/pre>","#Summary":"<p>Invoke the same method for each item in the <% include('/doc/system/object_name'); %>.<\/p>"},"map":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(block[, context]);\n<\/pre>","#Summary":"<p>Creates an array with the results of calling the provided function on every item in the <% include('/doc/system/object_name'); %>.<\/p>"},"pluck":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(propertyName);\n<\/pre>","#Summary":"<p>Retrieve the same property for all items in the <% include('/doc/system/object_name'); %>.<\/p>"},"reduce":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(block[, start[, context]]);\n<\/pre>"},"some":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(test[, context]);\n<\/pre>","#Summary":"<p>Runs the function <i>test<\/i> over each item in the <% include('/doc/system/object_name'); %>. Returns true if the function returns true for any item. The function will stop running as soon as one of the items passes <i>test<\/i>.<\/p>"}},"namespace":{"#Notes":"<%-- empty --%>"}},"Module":{"#Examples":"<p>Create a module:<p>\n<pre class='base2'>\nvar Circle = Module.extend({\n  // instance AND static\n\n  getArea: function(circle) {\n    return this.PI * Math.pow(circle.radius, 2);\n  },\n\n  getCircumference: function(circle) {\n    return 2 * this.PI * circle.radius;\n  }\n}, {\n  // static only\n\n  PI: 3.14\n});\n<\/pre>\n<p>You cannot instantiate a module:<\/p>\n<pre class='base2'>\nvar wheel = new Circle(50); // =&gt; ERROR!\n<\/pre>\n<p>Apply the <code>Circle<\/code> interface to an object instead:<\/p>\n<pre class='base2'>\nvar wheel = Circle({radius:50});\n<\/pre>\n<p>Call <code>getCircumference()<\/code> like an instance method on the object:<\/p>\n<pre class='base2'>\nprint(wheel.getCircumference()); //=&gt; 314\n<\/pre>\n<p>Call <code>getCircumference()<\/code> like a static method:<\/p>\n<pre class='base2'>\nprint(Circle.getCircumference({radius:10})); //=&gt; 62.8\nprint(Circle.getCircumference(wheel));       //=&gt; 314\n<\/pre>\n<p><code>Circle.PI<\/code> is static only:<\/p>\n<pre class='base2'>\nprint(Circle.PI); // =&gt; 3.14\nprint(wheel.PI);  // =&gt; undefined\n<\/pre>\n<p>Apply the <code>Circle<\/code> interface to another class:<\/p>\n<pre class='base2'>\nvar Wheel = CarPart.extend({\n  constructor: function(radius) {\n    this.base();\n    this.radius = radius;\n  }\n});\nWheel.implement(Circle);\n\nvar wheel = new Wheel(10);\nprint(wheel.getCircumference());       // =&gt; 62.8\nprint(Circle.getCircumference(wheel)); // =&gt; 62.8\n<\/pre>","#Summary":"<p>The Module class is loosely based on the <a href='http://www.ruby-doc.org/core/classes/Module.html'>Ruby class of the same name<\/a>. A module is a collection of methods that act as static (class) methods. However, when a module is mixed in with another class, the module methods become instance methods of that class. For that reason, modules should only operate on one type of object.<\/p>\n<p>Create new modules by extending the Module class or any of its subclasses.<\/p>\n<p>Modules should only define methods and constants.<\/p>\n<p>Modules cannot be instantiated.<\/p>\n<p>When a module is used as a mixin its methods are <em>late bound<\/em>. That means you only need to override the module method to affect target objects/classes.<\/p>","implement":{"#Summary":"<p>Adds another interface to a module. The new interface can be defined by another class/module or as an object literal.<\/p>\n<p>When a module implements another module, all class methods are copied from the source module to the target module.<\/p>\n"},"forEach":{"#Summary":"Enumerates the module methods of a Module.","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(block[, context]);\n<\/pre>"},"extend":{"#Syntax":"<pre class='base2'>\nvar module = Module.extend([module[, static]]);\n<\/pre>","#Summary":"<p>Create a new Module.<\/p>"},"namespace":{"#Summary":"<p>A string representing all of the symbols that the <a href='#/doc/!base2.Module'>Module<\/a> exports. The string can be evaluated within any context to provide access to the Module's functions and constants. They can then be accessed as if they were declared locally.<\/p>\n<p>Evaluating a namespace will overwrite any symbols already defined in the current scope.<\/p>","#Notes":"<p>A namespace string is just a list of variable assignments (e.g. <a href='#/doc/!base2.Enumerable.namespace'>Enumerable.namespace<\/a>).<\/p>","#Examples":"<p>Evaluate the <a href='#/doc/!base2.Enumerable'>Enumerable<\/a> namespace in the global scope:<\/p>\n<pre class='base2'>\neval(base2.Enumerable.namespace);\n<\/pre>\n<p>You can now access the Enumerable methods directly:<\/p>\n<pre class='base2'>\nvar hrefs = pluck(document.links, 'href');\n<\/pre>\n"}},"Package":{"prototype":{"namespace":{"#Examples":"<%\ninclude('/data/doc/entries/base2/namespace/#Examples');\ninclude('/data/doc/entries/base2/DOM/namespace/#Examples');\n%>","#Notes":"<p>A namespace string is just a list of variable assignments (e.g. <a href='#/doc/!base2.namespace'>base2.namespace<\/a>).<\/p>","#Summary":"<p>A string representing all of the symbols that the <a href='#/doc/!base2.Package'>Package<\/a> exports. The string can be evaluated within any context to provide access to the Package's properties. The properties can then be accessed as if they were declared locally.<\/p>\n<p>Evaluating a namespace will overwrite any symbols already defined in the current scope.<\/p>"},"imports":{"#Examples":"<p>Create a Package within a closure:<\/p>\n<pre class='base2'>\nnew function(_) {\n  // Create the Package object:\n\n  var MySpace = new Package(this, {\n    name:    \"MySpace\",\n    imports: \"IO\",\n    exports: \"MY_CONSTANT,MyClass\"\n  });\n\n  // Evaluate the imported namespaces:\n\n  eval(this.imports);\n\n  // Access the properties of the imported packages:\n\n  var file = new LocalFile(\"data.csv\");\n\n  // Publish this package:\n\n  eval(this.exports);\n};\n<\/pre>","#Notes":"<p>The <a href=\"#/doc/!base2\">base2<\/a>, <a href=\"#/doc/!base2.lang\">base2.lang<\/a> and <a href=\"#/doc/!base2.JavaScript\">base2.JavaScript<\/a> namespaces are automatically imported into every base2 Package so you do not need to declare them.<\/p>","#Summary":"<p>A comma delimited string that lists the names of the other packages/modules that the package imports.<\/p>"},"exports":{"#Summary":"<p>A comma delimited string that lists the names of the properties that the Package exports.<\/p>"},"name":{"#Summary":"<p>The name of the Package object.<\/p>"},"addName":{"#Summary":"<p>Add a new name to the namespace.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(name, object);\n<\/pre>","#Examples":"<pre class='base2'>\nbase2.utils.addName(\"Packer\", Packer);\n<\/pre>"},"parent":{"#Summary":"<p>Provides a reference to the parent Package.<\/p>"}},"#Examples":"<p>Here is the template for creating a base2 Package:<\/p>\n<pre class=\"base2\">\nnew function(_) { // create the closure\n  // create the package object\n  var MyPackage = new base2.Package(this, {\n    name:    \"MyPackage\",\n    version: \"1.0\",\n    imports: \"SomeOtherPackage\",\n    exports: \"MY_CONSTANT,MyClass,myFunction\"\n  });\n  \n  // evaluate the imported namespace\n  eval(this.imports); \n  \n  var MY_CONSTANT = 42;\n  \n  var MyClass = SomeOtherClass.extend({\n    // class definition\n  });\n  \n  function myFunction() {\n    return \"Hello!\";\n  };\n  \n  // evaluate the exported namespace (this initialises the Package)\n  eval(this.exports);\n};\n<\/pre>\n<p>By running the above code we will have created a package that lives on the base2 object:<\/p>\n<pre class=\"base2\">\nbase2.MyPackage              // =&gt; \"[base2.MyPackage]\"\nbase2.MyPackage.MY_CONSTANT  // =&gt; 42\nbase2.MyPackage.myFunction() // =&gt; \"Hello!\"\n<\/pre>\n<p>The base2.MyPackage namespace is initialised by the call <code>eval(this.exports)<\/code>. You must make this call at the end of the closure that contains your package objects.<\/p>\n<p>Referring to <code>base2.MyPackage.MY_CONSTANT<\/code> is a tad verbose. base2 Packages have a special property (<code>namespace<\/code>) which defines all of the symbols that the package exports. The <code>namespace<\/code> property for our example above looks like this:<\/p>\n<pre class=\"base2\">\nprint(base2.MyPackage.namespace);\n// =&gt; var MyPackage=base2.MyPackage;var MY_CONSTANT=MyPackage.MY_CONSTANT;var MyClass=MyPackage.MyClass;var myFunction=MyPackage.myFunction;\n<\/pre>\n<p>We can now evaluate the <code>namespace<\/code> property to gain access to the Packages properties as if they were defined in the current scope:<\/p>\n<pre class=\"base2\">\neval(base2.MyPackage.namespace);\nmyFunction()  // =&gt; \"Hello!\"\nMY_CONSTANT   // =&gt; 42\n<\/pre>\n<p>You can <code>eval<\/code> the <code>namespace<\/code> property in the global scope to globalise the contents of your Package. Or you can perform the <code>eval<\/code> within a closure to keep the global namespace clean. This is the mechanism that allows us to import the namespaces of other packages into your own package. That is what the call to <code>eval(this.imports)<\/code> in the example above provides. The namespaces of the base2 and JavaScript packages are automatcially imported into any package and you don't need to define them in the <code>imports<\/code> property.<\/p>\n<p>Here's a fully fledged example:<\/p>\n<pre class=\"base2\">\nnew function(_) { // create the closure\n  // create the package object\n  var shapes = new base2.Package(this, {\n    name:    \"shapes\",\n    version: \"1.0\",\n    exports: \"PI,Circle,Rectangle\"\n  });\n  \n  // evaluate the imported namespace\n  eval(this.imports); \n  \n  var PI = 3.14;\n  \n  var Shape = Base.extend({\n    consructor: function(x, y) {\n      this.move(x, y);\n    },\n    x: 0,\n    y: 0,\n    getArea: Undefined,\n    move: function(x, y) {\n      this.x = Number(x);\n      this.y = Number(y);\n    }\n  });\n  \n  var Circle = Shape.extend({\n    consructor: function(x, y, radius) {\n      this.base(x, y);\n      this.radius = Number(radius);\n    },\n    radius: 0,\n    getArea: function() {\n      return PI * Math.pow(this.radius, 2);\n    }\n  });\n  \n  var Rectangle = Shape.extend({\n    consructor: function(x, y, width, height) {\n      this.base(x, y);\n      this.width = Number(width);\n      this.height = Number(height);\n    },\n    width: 0,\n    height: 0,\n    getArea: function() {\n      return this.width * this.height;\n    }\n  });\n  \n  // evaluate the exported namespace (this initialises the Package)\n  eval(this.exports);\n};\n<\/pre>\n<p>Here's another example that imports the Package we declared above:<\/p>\n<pre class=\"base2\">\nnew function(_) { // create the closure\n  // create the package object\n  var graphics = new base2.Package(this, {\n    name:    \"graphics\",\n    version: \"1.0\",\n    imports: \"shapes\"\n    exports: \"Layout\"\n  });\n  \n  // evaluate the imported namespace\n  eval(this.imports);\n  \n  // we can refer to the Rectangle class directly because we have imported the\n  // shapes Package.\n  var Layout = Rectangle.extend({\n    // I don't know anything about graphics ;-)\n  });\n  \n  // evaluate the exported namespace (this initialises the Package)\n  eval(this.exports);\n};\n<\/pre>","#Summary":"<p>A Package provides a mechanism for bundling classes, constants and functions within a closure. You can define what symbols you want to export from the Package and you can define the symbols you want to import into the closure.<\/p>\n<p>The <code>Package<\/code> object also provides a <a href='#/doc/!base2.Package::namespace'>convenient property<\/a> for dynamically importing namespaces.<\/p>","#Constructor":"<pre class='base2'>\nvar pkg = new <% include('/doc/system/class_name'); %>(internal, properties);\n<\/pre>"},"MiniWeb":{"#Examples":"<p>This documentation is a MiniWeb application. <a href='#/'>Explore<\/a> the core MiniWeb system to find out more.<\/p>","Interpreter":{"#Summary":"<p>This object gets between the <code><a href='#/doc/!base2.MiniWeb.Server'>Server<\/a><\/code> and the <code><a href='#/doc/!base2.MiniWeb.FileSystem'>FileSystem<\/a><\/code> to manage the returned content. The interpreter also provides access to a copy of the <code><a href='#/doc/!base2.MiniWeb.Request'>Request<\/a><\/code> object and its post data.<\/p>\n"},"Client":{"#Summary":"<p>The <b>Client<\/b> object wraps an &lt;iframe&gt; that contains the rendered page.<\/p>"},"History":{"#Summary":"<p>The <b>History<\/b> object is responsible for maintaining the state of the back/forward buttons of the browser.<\/p>"},"#Summary":"<p>MiniWeb models an entire web site in a single HTML page. All of the site files are stored in a JSON object which you can navigate with a UNIX-like shell or the system browser. It has a built-in templating system and has an approximate separation of client and server.<\/p>\n<p>The MiniWeb <a href='#/system/Help'>help page<\/a> has more information.<\/p>","JSONDirectory":{"#Constructor":"<pre class='base2'>\nvar directory = new <% include('/doc/system/class_name'); %>(object);\n<\/pre>"},"JSONFileSystem":{"#Summary":"<p>Manage JSON data as if it were a file system.<\/p>","#Examples":"<p>Create some JSON data:<\/p>\n<pre class='base2'>\nvar data = {\n  dir1:  {\n    file1: \"text\",\n    file2: \"more text\"\n  },\n  dir2:  {\n    file3: \"text\",\n    file4: \"more text\"\n  }\n};\n<\/pre>\n<p>Create the JSON file system:<\/p>\n<pre class='base2'>\nvar fs = new JSONFileSystem(data);\n<\/pre>\n<p>Use file system commands to navigate and manipulate the JSON data:<\/p>\n<pre class='base2'>\nfs.copy(\"dir1\", \"dir3\");\nfs.chdir(\"dir3\");\nfs.write(\"file2\", \"Boo!\");\nfs.read(\"/dir3/file2\"); //=&gt; Boo!\n<\/pre>","#Constructor":"<pre class='base2'>\nvar fs = new <% include('/doc/system/class_name'); %>(object);\n<\/pre>"}},"namespace":{"#Examples":"<p>Evaluate the base2 namespace in the global scope:<\/p>\n<pre class='base2'>\neval(base2.namespace);\n<\/pre>\n<p>You can now access base2's properties directly:<\/p>\n<pre class='base2'>\nvar object = new Base();\nvar hrefs = Enumerable.pluck(document.links, 'href');\n<\/pre>\n","#Notes":"<%-- empty --%>"},"DOM":{"namespace":{"#Examples":"<p>Evaluate the base2.DOM namespace within a closure and access its properties:<\/p>\n<pre class='base2'>\n(function() {\n  eval(base2.DOM.namespace);\n  var logo = Element.querySelector(document.body, 'img.logo');\n  ClassList.add(logo, 'cool-border');\n})();\n<\/pre>\n"},"Element":{"setAttribute":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(element, name, value);\n<\/pre>"},"getAttribute":{"#Syntax":"<pre class='base2'>\nvar value = <% include('/doc/system/method_name'); %>(element, name);\n<\/pre>"}},"AbstractView":{"getComputedStyle":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(view, element, pseudoElement);\n<\/pre>"}},"DocumentEvent":{"createEvent":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(document, type);\n<\/pre>"}},"DocumentSelector":{"getElementsByClassName":{"#Syntax":"<pre class='base2'>\nvar elements = <% include('/doc/system/method_name'); %>(document, classNames);\n<\/pre>"},"querySelectorAll":{"#Syntax":"<pre class='base2'>\nvar elements = <% include('/doc/system/method_name'); %>(document, selector);\n<\/pre>"},"querySelector":{"#Syntax":"<pre class='base2'>\nvar element = <% include('/doc/system/method_name'); %>(document, selector);\n<\/pre>"},"#Summary":"<p>Provides an implementation of the <a href='http://www.w3.org/TR/selectors-api/#documentselector'>Selectors API<\/a> methods."},"ElementSelector":{"matchesSelector":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(element, selector);\n<\/pre>"},"getElementsByClassName":{"#Syntax":"<pre class='base2'>\nvar elements = <% include('/doc/system/method_name'); %>(element, classNames);\n<\/pre>"},"querySelector":{"#Syntax":"<pre class='base2'>\nvar element = <% include('/doc/system/method_name'); %>(element, selector);\n<\/pre>"},"querySelectorAll":{"#Syntax":"<pre class='base2'>\nvar elements = <% include('/doc/system/method_name'); %>(element, selector);\n<\/pre>"},"#Summary":"<p>Provides an implementation of the <a href='http://www.w3.org/TR/selectors-api/#documentselector'>Selectors API<\/a> methods."},"EventTarget":{"addEventListener":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(target, type, listener, capture);\n<\/pre>"},"removeEventListener":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(target, type, listener, capture);\n<\/pre>"},"dispatchEvent":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(target, event);\n<\/pre>"}},"ViewCSS":{"toCamelCase":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(view, selectorText);\n<\/pre>"}},"Binding":{"#Summary":"<p>The base Module for binding <abbr title=\"Document Object Model\">DOM<\/abbr> objects. Bindings contain additional methods that are added to DOM objects to provide W3C compatibility or other enhancements.<\/p>\n<p>Bindings represent real <abbr>DOM<\/abbr> objects not abstract interfaces.<\/p>","bind":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(node);\n<\/pre>"}},"Interface":{"#Summary":"<p>An Interface contains additional methods that can be added to <abbr title='Document Object Model'>DOM<\/abbr> objects to provide W3C compatibility or other enhancements. Interfaces can represent either real or abstract <abbr>DOM<\/abbr> objects.<\/p>","createDelegate":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(name, length);\n<\/pre>"}},"Event":{"initEvent":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(event, type);\n<\/pre>"},"preventDefault":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(event);\n<\/pre>"},"stopPropagation":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(event);\n<\/pre>"}},"#Summary":"<p>Support for the <a href='http://www.w3.org/' title='The World Wide Web Consortium'>W3C<\/a> <a href='http://www.w3.org/DOM/'>Document Object Model<\/a>.<\/p>","Selector":{"#Summary":"<p>A CSS Selector object.<\/p>","prototype":{"toXPath":{"#Examples":"<pre class='base2'>\nvar selector = new Selector(\"#menu li\");\nselector.toXPath(); //=&gt;  id('menu')/descendant::li\n<\/pre>","#Syntax":"<pre class='base2'>\nvar xpath = selector.toXPath();\n<\/pre>"},"exec":{"#Syntax":"<pre class='base2'>\nvar result = selector.exec(context[, singleNode]);\n<\/pre>"},"test":{"#Syntax":"<pre class='base2'>\nvar result = selector.test(element);\n<\/pre>"}},"toXPath":{"#Examples":"<pre class='base2'>\nSelector.toXPath(\"#menu li\"); //=&gt;  id('menu')/descendant::li\n<\/pre>","#Syntax":"<pre class='base2'>\nvar xpath = Selector.toXPath(selectorText);\n<\/pre>"},"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>(selectorText);\n<\/pre>"},"XPathParser":{"#Summary":"<p>Parses <abbr title='Cascading Style Sheets'>CSS<\/abbr> selectors to <em>optimised<\/em> XPath queries.<\/p>","#Examples":"<pre class='base2'>\nvar parser = new XPathParser;\nparser.exec(\"#menu li\"); //=&gt;  id('menu')/descendant::li\n<\/pre>","#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>;\n<\/pre>"},"NodeSelector":{"getElementsByClassName":{"#Syntax":"<pre class='base2'>\nvar elements = <% include('/doc/system/method_name'); %>(node, classNames);\n<\/pre>"},"querySelectorAll":{"#Syntax":"<pre class='base2'>\nvar elements = <% include('/doc/system/method_name'); %>(node, selector);\n<\/pre>"},"querySelector":{"#Syntax":"<pre class='base2'>\nvar element = <% include('/doc/system/method_name'); %>(node, selector);\n<\/pre>"},"#Summary":"<p>Provides an implementation of the <a href='http://www.w3.org/TR/selectors-api/#documentselector'>Selectors API<\/a> methods."},"Node":{"compareDocumentPosition":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(node, anotherNode);\n<\/pre>"}},"Traversal":{"getDefaultView":{"#Syntax":"<pre class='base2'>\nvar view = <% include('/doc/system/method_name'); %>(node);\n<\/pre>"},"getNextElementSibling":{"#Syntax":"<pre class='base2'>\nvar element = <% include('/doc/system/method_name'); %>(element);\n<\/pre>"},"getNodeIndex":{"#Syntax":"<pre class='base2'>\nvar index = <% include('/doc/system/method_name'); %>(node);\n<\/pre>"},"getOwnerDocument":{"#Syntax":"<pre class='base2'>\nvar document = <% include('/doc/system/method_name'); %>(node);\n<\/pre>"},"getPreviousElementSibling":{"#Syntax":"<pre class='base2'>\nvar element = <% include('/doc/system/method_name'); %>(element);\n<\/pre>"},"getTextContent":{"#Syntax":"<pre class='base2'>\nvar textContent = <% include('/doc/system/method_name'); %>(element);\n<\/pre>"},"isEmpty":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(element);\n<\/pre>"},"setTextContent":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(element, textContent);\n<\/pre>"},"contains":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(node, node);\n<\/pre>"},"getDocument":{"#Syntax":"<pre class='base2'>\nvar document = <% include('/doc/system/method_name'); %>(node);\n<\/pre>"},"isDocument":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(node);\n<\/pre>"},"isElement":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(node);\n<\/pre>"}},"bind":{"#Summary":"<p>The <code>bind()<\/code> method fixes broken <abbr>DOM<\/abbr> methods and adds new methods like <code>querySelectorAll()<\/code> and \n <code>querySelector()<\/code> from the <a href=\"http://www.w3.org/TR/selectors-api/#documentselector\">Selectors <abbr>API<\/abbr><\/a>.\n The <code>DOM.bind()<\/code> method can be applied to any DOM node. Most of the time you don&#8217;t need to think about it as it is automatically applied to <em>every<\/em> element retrieved using the Selectors <abbr>API<\/abbr>.\n We can now use methods like <code>addEventListener<\/code> and <code>querySelectorAll<\/code> without worrying about browser differences:<\/p>\n\n<pre class='base2'>\nbase2.DOM.bind(document);\n\nvar menuItems = document.querySelectorAll(\"ul.menu li\");\n<\/pre>\n<p>All elements returned by <code>querySelectorAll()/querySelector()<\/code> will automatically have the <code>DOM.bind()<\/code> method applied to them so\n they will be also be magically &#8220;fixed&#8221;:<\/p>\n<pre class='base2'>\nvar menuItems = document.querySelectorAll(\"ul.menu li\");\nfor (var i = 0; i &lt; menuItems.length; i++) {\n\tvar element = menuItems.item(i); // you must use the item() method. Sorry!\n\tvar para1 = element.querySelector(\"p:first-child\");\n\tpara1.addEventListener(\"click\", youClickedMe, false);\n}\n<\/pre>\n<p>The <code>querySelectorAll()<\/code> method returns a <code>StaticNodeList<\/code> object. \n You <strong>must<\/strong> use the <code>item()<\/code> method to retrieve elements from <a href='#/doc/!base2.DOM.StaticNodeList'>StaticNodeList<\/a> objects.\n To help, I&#8217;ve added enumeration methods (<code>forEach<\/code>, <code>map<\/code> etc) to the object so you can do this instead if you prefer:<\/p>\n\n<pre class='base2'>\ndocument.querySelectorAll(\"ul.menu li\").forEach(function(element) {\n\tvar para1 = element.querySelector(\"p:first-child\");\n\tpara1.addEventListener(\"click\", youClickedMe, false);\n});\n<\/pre>","#Syntax":"<pre class='base2'>\nbase2.DOM.bind(node);\n<\/pre>"},"StaticNodeList":{"prototype":{"pluck":{"#Examples":"<p>Extract form values:<\/p>\n<pre class=\"base2\">\nvar items = document.querySelectorAll(\"#my-form input\");\nvar values = items.pluck(\"value\");\n<\/pre>"}},"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>([nodes]);\n<\/pre>"},"CSSParser":{"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>(rules);\n<\/pre>"}},"RegGrp":{"#Examples":"<% include('/data/doc/entries/base2/RegGrp/prototype/exec/#Examples'); %>\n\n<p>A <code>RegGrp<\/code> object is also a <code><a href='#/doc/!base2.Collection'>Collection<\/a><\/code>, so you can merge several parsers:<\/p>\n<pre class='base2'>\nvar html_parser = xml_parser.union({\n  /* extra rules */\n});\nhtml_parser.merge(css_parser, js_parser);\n<\/pre>\n\n<% include('/data/doc/entries/base2/RegGrp/IGNORE/#Examples'); %>","#Summary":"<p>A collection of regular expressions and their associated replacement values.<\/p>\n<p>Use the <code>RegGrp<\/code> class to create powerful parsers.<\/p>","count":{"#Summary":"<p>Count the number of sub-expressions in a regular expression.<\/p>","#Syntax":"<pre class='base2'>\nvar length = <% include('/doc/system/method_name'); %>(regexp);\n<\/pre>","#Examples":"<pre class='base2'>\nRegGrp.count(/(\\w+)(\\d+)/); // => 2\n<\/pre>"},"prototype":{"exec":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(string);\n<\/pre>","#Summary":"<p>Parse a string using the patterns and replacement values contained in the collection.<\/p>","#Examples":"<p>A simple HTML parser.<\/p>\n<pre class='base2'>\nvar escapeHTML = new RegGrp({\n  &#39;\"&#39;: \"&amp;quot;\",\n  \"&amp;\": \"&amp;amp;\",\n  \"&#39;\": \"&amp;#39;\",\n  \"&lt;\": \"&amp;lt;\",\n  \"&gt;\": \"&amp;gt;\"\n});\n\nvar html = escapeHTML.exec(textarea.value);\n<\/pre>"},"test":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(string);\n<\/pre>"}},"IGNORE":{"#Summary":"<p>Use this replacement value when you want a parser to ignore a particular pattern.<\/p>","#Examples":"<p>Turn text to upper case but ignore strings:<\/p>\n<pre class='base2'>\nvar parser = new RegGrp;\n\nparser.add(/([&#39;&quot;])[^\\1]*\\1/, RegGrp.IGNORE); // ignore string values\nparser.add(/\\w+/, String2.toUpperCase);\n\nvar COBOL = parser.exec(sourceCode);\n<\/pre>"},"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>([values[, ignoreCase]]);\n<\/pre>"},"Base":{"prototype":{"base":{"#Examples":"<pre class='base2'>\nvar object = new Base;\nobject.method = function() {\n  alert(\"Hello World!\");\n};\nobject.extend({\n  method: function() {\n    // call the \"super\" method\n    this.base();\n    // add some code\n    alert(\"Hello again!\");\n  }\n});\nobject.method();\n// ==> Hello World!\n// ==> Hello again!\n<\/pre>","#Summary":"<p>Call this method from within any other method to invoke that method's ancestor (overridden function).<\/p>","#Syntax":"<pre class='base2'>\nthis.base(argument0, argument1, ..., argumentN);\n<\/pre>"},"extend":{"#Examples":"<p>Extend with a key/value pair:<\/p>\n<pre class='base2'>\nvar object = new Base();\nobject.extend(\"foo\", \"bar\");\nprint(object.foo); // =&gt; \"bar\"\n<\/pre>\n<P>Extend with an object literal and use inheritance:<\/p>\n<% include('/data/doc/entries/base2/Base/prototype/base/#Examples'); %>","#Summary":"<p>Extend an object with either a key/value pair or an object literal defining key/value pairs. Methods that are overridden are accessible through <code>this.base()<\/code>.<\/p>","#Syntax":"<p>Extend with a key/value pair:<\/p>\n<pre class='base2'>\n<% include('/doc/system/method_name'); %>(key, value);\n<\/pre>\n<P>Extend with an object literal:<\/p>\n<pre class='base2'>\n<% include('/doc/system/method_name'); %>({key: value});\n<\/pre>","#Notes":"<p>When using the <code>extend()<\/code> method you can take advantage of <a href='#/doc/!base2.detect'>dynamic object detection<\/a>.<\/p>"}},"extend":{"#Examples":"<p>Classes are created by calling the <code>extend()<\/code> method on the <code>Base<\/code> class:<\/p>\n<pre class='base2'>\nvar Animal = Base.extend({\n  constructor: function(name) {\n    this.name = name;\n  },\n\n  name: \"\",\n\n  eat: function() {\n    this.say(\"Yum!\");\n  },\n\n  say: function(message) {\n    alert(this.name + \": \" + message);\n  }\n});\n<\/pre>\n<p>All classes created in this manner will inherit the <code>extend()<\/code> method so we can easily subclass the Animal class:<\/p>\n<pre class='base2'>\nvar Cat = Animal.extend({\n  eat: function(food) {\n    if (food instanceof Mouse) this.base();\n      else this.say(\"Yuk! I only eat mice.\");\n    }\n});\n\t\nvar Mouse = Animal.extend();\n<\/pre>","#Summary":"<p>Subclass a base2 class.<\/p>\n<p>This function takes two arguments, they should both be object literals. The first defines the instance interface. The second defines the static (class) interface.<\/p>\n<p>All inheritance is managed by the core <code><a href='#/doc/!base2.extend'>extend()<\/a><\/code> method.<?p>","#Syntax":"<pre class='base2'>\nvar subclass = <% include('/doc/system/method_name'); %>([instance[, static]]);\n<\/pre>","#Notes":"<p>When using the <code>extend()<\/code> method you can take advantage of <a href='#/doc/!base2.detect'>dynamic object detection<\/a>.<\/p>"},"#Examples":"<% include('/data/doc/entries/base2/Base/extend/#Examples') %>","ancestorOf":{"#Examples":"<pre class='base2'>\nprint(<% include('/doc/system/method_name'); %>(Base));   // =&gt; false\nprint(Base.ancestorOf(Map));   // =&gt; true\n<\/pre>","#Summary":"<p>Is this class an ancestor of the target class?<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(klass);\n<\/pre>"},"#Summary":"<p>This class is the base class for inheritance. All base2 classes are subclasses of this class.<\/p>\n<p>Classes are essentially JavaScript constructor functions. They are also generic functions that can be used to <em>cast<\/em> objects.<\/p>","base":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/base/#Syntax'); %>"},"forEach":{"#Summary":"<p>Enumerate an object and compare its keys with this function's prototype. If the key exists on the prototype then ignore the key/value pair.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(object, block[, context]);\n<\/pre>"},"implement":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(interface);\n<\/pre>","#Summary":"<p>Adds another interface to a class. The new interface can be defined by another class/module or an object literal.<\/p>\n<p>The <code>implement()<\/code> method extends the class prototype but does not create a new class.<\/p>","#Examples":"<p>Implement an interface defined by an object literal:<\/p>\n<pre class='base2'>\n<% include('/doc/system/method_name'); %>({\n  prop1: \"value1\",\n  method1: function(){}\n});\n<\/pre>\n<p>Implement an interface defined by another class:<\/p>\n<pre class='base2'>\nMap.implement(Enumerable);\n<\/pre>"},"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>([properties]);\n<\/pre>"},"global":{"#Notes":"<p>In browser environments this is the <code>window<\/code> object.<\/p>","#Summary":"<p>A reference to the global object.<\/p>"},"#Summary":"<p>The root object of the base2 library.<\/p>","Collection":{"#Summary":"<p>A Collection is a <a href='#/doc/!base2.Map'>Map<\/a> that is more array-like.<\/p>","prototype":{"item":{"#Summary":"<p>Retrieve an item by key or index.<\/p>","#Syntax":"<pre class='base2'>\nvar item = <% include('/doc/system/method_name'); %>(keyOrIndex);\n<\/pre>"},"add":{"#Summary":"<p>The same as <code><a href='#/doc/!base2.Map::put'>put()<\/a><\/code> except that this method will throw an error if the key already exists.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(key, item);\n<\/pre>"},"removeAt":{"#Summary":"<p>Remove an item by index.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(index);\n<\/pre>"},"indexOf":{"#Syntax":"<pre class='base2'>\nvar index = <% include('/doc/system/method_name'); %>(key);\n<\/pre>","#Summary":"<p>Returns the index of a key in the collection.<\/p>"},"sort":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>([compare]);\n<\/pre>","#Summary":"<p>Sorts the items in the collection. If no <i>compare<\/i> function is supplied then the keys are sorted alphabetically.<\/p>\n<p>If a <i>compare<\/i> function is supplied then four arguments are passed to it. The first two arguments are collection items, the third and fourth arguments are the item keys.<\/p>"},"insertAt":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(index, key, item);\n<\/pre>","#Summary":"<p>Inserts an item into the collection at the given index.<\/p>","#Notes":"<p>This method will throw an error if the index is out of bounds.<\/p>"},"reverse":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>();\n<\/pre>","#Summary":"<p>Reverses the order of the items in the collection.<\/p>"},"forEach":{"#Summary":"<p>Enumerate the items in the collection.<\/p>\n"},"getAt":{"#Summary":"<p>Retrieves an item from a collection by its index.<\/p>","#Syntax":"<pre class='base2'>\nvar item = <% include('/doc/system/method_name'); %>(index);\n<\/pre>"},"putAt":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(index, item);\n<\/pre>","#Summary":"<p>Stores an item in the collection at the given index. Overwrites the existing item and uses its key.<\/p>","#Notes":"<p>This method will throw an error if the index is out of bounds.<\/p>"},"slice":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>([, start[, end]]);\n<\/pre>","#Summary":"<p>Returns a section of the <% include('/doc/system/object_name'); %> object.<\/p>"}},"Item":{"#Summary":"<p>Collection classes have a special (optional) property: <code><b>Item<\/b><\/code>. The <code>Item<\/code> property points to a constructor function. Members of the collection must be an instance of <code>Item<\/code>.<\/p>\n<p>The default value for this property is <code>null<\/code>.<\/p>","#Examples":"<pre class='base2'>\nvar Dates = Collection.extend();\nDates.Item = Date;\nvar dates = new Dates;\ndates.add(new Date); // OK\ndates.add(\"today\");  // ERROR!\n<\/pre>"},"create":{"#Summary":"<p>The <code>create()<\/code> method is responsible for all construction of collection items. Instance methods that add new items (<code><a href='#/doc/!base2.Collection::add'>add()<\/a><\/code>, <code><a href='#/doc/!base2.Collection::add'>store()<\/a><\/code>, <code><a href='#/doc/!base2.Collection::add'>insertAt()<\/a><\/code>, <code><a href='#/doc/!base2.Collection::add'>storeAt()<\/a><\/code>) pass <em>all<\/em> of their arguments to the constructor's <code>create()<\/code> method. If you want to modify the way collection items are created then you only need to override this method for custom collections.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(key[, argument1, argument2, ..., argumentN]);\n<\/pre>"}},"Abstract":{"#Summary":"<p>The Abstract class defines no methods or properties and merely acts as the base class for other abstract classes (e.g. <a href=\"#/doc/!base2.Module\">Module<\/a>).<\/p>","#Constructor":"<p>An abstract class cannot be instantiated.<\/p>"},"addName":{},"doc":{"#Summary":"<p>The application that is generating this documentation.<\/p>","Colorizer":{"#Summary":"<p>A syntax highligher.<\/p>"}},"False":{"#Summary":"<p>Always returns <code>false<\/code>.<p>","#Examples":"<pre class='base2'>\n// Cancel the click event:\nelement.onclick = False;\n<\/pre>"},"Null":{"#Summary":"<p>Always returns <code>Null<\/code>.<p>"},"True":{"#Summary":"<p>Always returns <code>true<\/code>.<p>"},"Undefined":{"#Summary":"<p>Always returns <code>undefined<\/code>.<p>"},"JST":{"#Summary":"<p>JavaScript Templates.<\/p>","Command":{"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>([commands]);\n<\/pre>"},"Environment":{"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>;\n<\/pre>"},"Interpreter":{"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>(command, environment);\n<\/pre>"}},"JSON":{"copy":{"#Summary":"<p>Use JSON to make a deep copy of an object.<\/p>\n<p>The object is converted to a JSON object and then reparsed to create a full copy.<\/p>","#Syntax":"<pre class='base2'>\nvar copy = JSON.copy(object);\n<\/pre>"},"#Summary":"<p>JavaScript Object Notation.<\/p>","namespace":{"#Examples":"<%-- empty --%>"},"Object":{"toJSONString":{"#Syntax":"<pre class='base2'>\nvar string = JSON.<% include('/doc/system/method_name'); %>(<% include('/doc/system/instance_name'); %>);\n<\/pre>"}}},"JSB":{"#Summary":"<p>JavaScript Behaviors.<\/p>","RuleList":{"Item":{"#Summary":"<p>The <code>RuleList.Item<\/code> class is identical to the <code><a href='#/doc/!base2.JSB.Rule'>Rule<\/a><\/code> class.<\/p>"},"#Summary":"A collection of <code><a href='#/doc/!base2.JSB.Rule'>Rule<\/a><\/code> objects.<\/p>","#Constructor":"<pre class='base2'>\r\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>([rules]);\r\n<\/pre>"},"Rule":{"#Constructor":"<pre class='base2'>\r\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>(selector, behavior);\r\n<\/pre>"}},"IO":{"#Summary":"<p>A collection of classes to deal with I/O.<\/p>","FileSystem":{"#Summary":"<p>An abstract class to derive other file system classes from.<\/p>","prototype":{"chdir":{"#Summary":"<p>Change the current working directory.<\/p>","#Syntax":"<pre class='base2'>\nfs.chdir(path);\n<\/pre>"},"copy":{"#Summary":"<p>Copy a file or directory to another destination.<\/p","#Syntax":"<pre class='base2'>\nfs.copy(path1, path2);\n<\/pre>"},"exists":{"#Syntax":"<pre class='base2'>\nvar result = fs.exists(path);\n<\/pre>","#Summary":"<p>Verifies the existence of a file or directory.<\/p>"},"isDirectory":{"#Syntax":"<pre class='base2'>\nvar result = fs.isDirectory(path);\n<\/pre>","#Summary":"<p>Verifies that the resource found at <i>path<\/i> is a directory.<\/p>"},"isFile":{"#Syntax":"<pre class='base2'>\nvar result = fs.isFile(path);\n<\/pre>","#Summary":"<p>Verifies that the resource found at <i>path<\/i> is a file.<\/p>"},"makepath":{"#Syntax":"<pre class='base2'>\nvar path = fs.makepath(path1[, path2]);\n<\/pre>","#Summary":"<p>Resolve two paths to a single path. If the second path is omitted then the supplied path is resolved using the current path of the FileSystem.<\/p>"},"mkdir":{"#Syntax":"<pre class='base2'>\nfs.mkdir(path);\n<\/pre>","#Summary":"<p>Create the directory described by <i>path<\/i>.<\/p>"},"move":{"#Syntax":"<pre class='base2'>\nfs.move(path1, path2);\n<\/pre>","#Summary":"<p>Move the file found at <i>path1<\/i> to <i>path2<\/i>.<\/p>"},"read":{"#Syntax":"<pre class='base2'>\nvar result = read(path);\n<\/pre>","#Summary":"<p>Read the file or directory found at <i>path<\/i> and return its contents.<\/p>\n<p>For a text file, the text is returned. For a directory, a <a href=;'#/doc/!base2.IO.Directory'>Directory<\/a> object is returned.<\/p>"},"remove":{"#Syntax":"<pre class='base2'>\nfs.remove(path);\n<\/pre>","#Summary":"<p>Remove the file or directory found at <i>path<\/i>.<\/p>"},"write":{"#Syntax":"<pre class='base2'>\nfs.write(path, data);\n<\/pre>","#Summary":"<p>Write text to the file found at <i>path<\/i>.<\/p>"},"path":{"#Summary":"<p>The current path.<\/p>\n<p>All paths should be UNIX style paths.<\/p>"}},"#Constructor":"<pre class='base2'>\nvar fs = new <% include('/doc/system/class_name'); %>([path]);\n<\/pre>"},"LocalFileSystem":{"#Notes":"<p>Local file system support is complete for the following platforms:<\/p>\n<ul>\n<li>Non-browser Java environments (e.g. Rhino)<\/li>\n<li>Windows Scripting Host<\/li>\n<li>Mozilla browsers<\/li>\n<li>Microsoft Internet Explorer<\/li>\n<\/ul>\n<p>For other browsers that support Java, the local file system is read-only. For all other browsers (e.g. Safari) there is no local file support.<\/p>","#Summary":"<p>Manage the local file system.<\/p>","getPath":{"#Summary":"<p>Returns the current path. For a browser environment it is equivalent to <code>location.pathname<\/code>.<\/p>","#Syntax":"<pre class='base2'>\nvar path = <% include('/doc/system/method_name'); %>();\n<\/pre>"},"toNativePath":{"#Syntax":"<pre class='base2'>\nvar nativePath = <% include('/doc/system/method_name'); %>(path);\n<\/pre>","#Summary":"<p>Convert a base2 (UNIX style) path to a native path (e.g. Windows).<\/p>"},"fromNativePath":{"#Syntax":"<pre class='base2'>\nvar path = <% include('/doc/system/method_name'); %>(nativePath);\n<\/pre>","#Summary":"<p>Convert a native path (e.g. Windows) to a base2 (UNIX style) path.<\/p>"},"prototype":{"path":{},"copy":{"#Notes":"<p>Not currently supported in Java environments.<\/p>"}}},"Directory":{"#Summary":"<p>A collection of directory items.<\/p>","#Constructor":"<p>Construction of directory items is internal.<\/p>","Item":{"#Summary":"<p>A stub that describes an item in a directory.<\/p>","#Constructor":"<p>Instantiation of directory items is internal.<\/p>","#Examples":"<%-- empty --%>"}},"LocalDirectory":{"#Constructor":"<pre class='base2'>\nvar directory = new <% include('/doc/system/class_name'); %>(path);\n<\/pre>"},"LocalFile":{"#Constructor":"<pre class='base2'>\nvar file = new <% include('/doc/system/class_name'); %>(path);\n<\/pre>"}},"detect":{"#Summary":"<p>There are two types of detection:<\/p>\n<ol>\n<li>User agent detection (browser only)<\/li>\n<li>Object detection<\/li>\n<\/ol>\n\n<h3>User Agent Detection<\/h3>\n<p>base2 creates its own userAgent string for easy pattern matching<\/p>\n<ol>\n<li>Platform prepended to user agent string<\/li>\n<li>Bogus \"MSIE\" indicators removed <\/li>\n<li>Spaces and \"/\" characters removed between words and numbers. e.g. \"MSIE 6.0\" becomes \"MSIE6.0\".<\/li>\n<li>\"Like xyz browser\" strings removed<\/li>\n<\/ol>\n\n<h3>Object Detection<\/h3>\n<p>Detect objects by passing an expression that can be evalauted. The expression should be enclosed in brackets.<\/p>\n\n<p>You can negate the return value of a detect() by prefixing the query with a \"!\" character.<\/p>\n\n<h3>Dynamic Object Detection<\/h3>\n<p>base2's <code><a href='#/doc/!base2.extend'>extend()<\/a><\/code> method allows dynamic object detection. That means that you can extend objects like this:<\/p>\n<pre class='base2'>\nvar Browser = Base.extend({\n  // Default method:\n  info: function() {\n    print(\"I am a happy browser! :-)\");\n  },\n\n  // User agent detection:\n  \"@MSIE\": {\n    info: function() {\n      print(\"I am a sad browser! :-(\");\n    }\n  },\n\n  // Object detection:\n  \"@!(document.getElementById)\": {\n    info: function() {\n      print(\"I am a very old browser! :-P\");\n    }\n  }\n});\n\nvar browser = new Browser();\nbrowser.info(); // =&gt; (platform specific)\n<\/pre>","#Examples":"\n<p>Detect user agents by passing a (<code>RegExp<\/code>) pattern to <code>detect()<\/code>:<\/p>\n<pre class='base2'>\ndetect(\"MSIE5\");      // detects IE5.x\ndetect(\"MSIE[56]\");   // detects IE5.x and IE6.x\ndetect(\"MSIE|opera\"); // detects Interent Explorer or opera\ndetect(\"MSIE.+win\");  // detects Interent Explorer on Windows\n<\/pre>\n<p>Object detection:<\/p>\n<pre class='base2'>\ndetect(\"(java)\");\ndetect(\"(document.getElementsByClassName)\");\ndetect(\"(element.addEventListener)\");\n<\/pre>\n<p>Detect <code>jscript<\/code>:<\/p>\n<pre class='base2'>\ndetect(\"(jscript)\");\ndetect(\"(jscript>=5)\");\n<\/pre>\n<p>Negate a query:<\/p>\n<pre class='base2'>\ndetect(\"!MSIE\");        // not Internet Explorer\ndetect(\"!MSIE|opera\");  // not Internet Explorer or Opera\ndetect(\"!(java)\");      // java not available\n<\/pre>","#Notes":"\n<p>Certain objects are always defined (even if they are null). They are:<\/p>\n<ul>\n<li><code>java<\/code><\/li>\n<li><code>jscript<\/code> (version number)<\/li>\n<li><code>global<\/code> (the global object. e.g. <code>window<\/code> in a browser environment)<\/li>\n<li><code>element<\/code> (an HTML <code>&lt;span&gt;<\/code> element which is not attached to any document)<\/li>\n<li><code>userAgent<\/code> (the modified base2 userAgent string)<\/li>\n<\/ul>","#Syntax":"<p>User agent detection:<\/p>\n<pre class='base2'>\ndetect(\"pattern\");\ndetect(\"!pattern\");\n<\/pre>\n<p>Object detection:<\/p>\n<pre class='base2'>\ndetect(\"(expression)\");\ndetect(\"!(expression)\");\n<\/pre>"},"Map":{"#Summary":"<p>The Map class is not a replacement for the JavaScript <code>Object<\/code> class. Object literals are usually sufficient for most tasks. This class acts as the base class for other hash and collection classes.<\/p>","prototype":{"copy":{"#Summary":"<p>Returns a copy of the <% include('/doc/system/object_name'); %> object.<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>();\n<\/pre>"},"remove":{"#Summary":"<p>Remove a value by key.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(key);\n<\/pre>"},"union":{"#Summary":"<p>Merge several <% include('/doc/system/object_name'); %> objects to make a new <% include('/doc/system/object_name'); %>.<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(<% include('/doc/system/instance_name'); %>1, <% include('/doc/system/instance_name'); %>2, ..., <% include('/doc/system/instance_name'); %>N);\n<\/pre>"},"merge":{"#Summary":"<p>Merge several <% include('/doc/system/object_name'); %> objects into a single <% include('/doc/system/object_name'); %>. Does not create a new object. Exisiting entries are overwritten.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(<% include('/doc/system/instance_name'); %>1, <% include('/doc/system/instance_name'); %>2, ..., <% include('/doc/system/instance_name'); %>N);\n<\/pre>"},"forEach":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(block[, context]);\n<\/pre>","#Summary":"<p>Enumerate the values in the hash object.<\/p>\n<p>There is no particular order of enumeration and the order may vary from platform to platform. If you want enumerate items in a particular order then you should use a <code><a href='#/doc/!base2.Collection'>Collection<\/a><\/code> object instead.<\/p>"},"get":{"#Summary":"<p>Retrieve a value by key.<\/p>","#Syntax":"<pre class='base2'>\nvar value = <% include('/doc/system/method_name'); %>(key);\n<\/pre>"},"has":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(key);\n<\/pre>","#Summary":"<p>Returns <code>true<\/code> if the <% include('/doc/system/object_name'); %> object contains the supplied key.<\/p>"},"put":{"#Summary":"<p>Store a value by key. If the key already exists then the entry is overwritten.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(key, value);\n<\/pre>"},"size":{"#Summary":"<p>Returns the number of items in the <% include('/doc/system/object_name'); %> object.<\/p>","#Syntax":"<pre class='base2'>\nvar size = <% include('/doc/system/method_name'); %>();\n<\/pre>"},"getKeys":{"#Syntax":"<pre class='base2'>\nvar keys = <% include('/doc/system/method_name'); %>();\n<\/pre>","#Summary":"<p>Returns an array of the keys in the <% include('/doc/system/object_name'); %> object.<\/p>"},"getValues":{"#Syntax":"<pre class='base2'>\nvar values = <% include('/doc/system/method_name'); %>();\n<\/pre>","#Summary":"<p>Returns an array of the values in the <% include('/doc/system/object_name'); %> object.<\/p>"},"filter":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(test[, context]);\n<\/pre>"},"clear":{"#Summary":"<p>Removes all entries from the <% include('/doc/system/object_name'); %> object.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>();\n<\/pre>"}},"#Constructor":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>([values]);\n<\/pre>","#Examples":"<pre class='base2'>\nvar <% include('/doc/system/instance_name'); %> = new <% include('/doc/system/class_name'); %>({\n  key1: \"value1\",\n  key2: 2\n});\n\n<% include('/doc/system/instance_name'); %>.put(\"key3\", \"Another value\");\n<\/pre>"},"JavaScript":{"Array2":{"#Examples":"<p>Use <code>Array2<\/code> as a constructor:<\/p>\n<pre class='base2'>\nvar array2 = new Array2(1, 2, 3);\nprint(array.contains(2)); // =&gt; true\n<\/pre>\n<p>Use <code>Array2<\/code> to cast an existing array:<\/p>\n<pre class='base2'>\nvar array1 = [1, 2, 3];\nprint(array1.contains(2)); // =&gt; ERROR!\nArray2(array1);\nprint(array1.contains(2)); // =&gt; true\n<\/pre>\n<p>Cast the built-in <code>Array<\/code> object:<\/p>\n<pre class='base2'>\nvar array1 = [1, 2, 3];\nprint(array1.contains(2)); // =&gt; ERROR!\nArray2(Array.prototype);\nprint(array1.contains(2)); // =&gt; true\n<\/pre>\n<p>Use <code>Array2<\/code> as a provider of generic methods:<\/p>\n<pre class='base2'>\nvar array1 = [1, 2, 3];\nprint(Array2.contains(array1, 2)); // =&gt; true\n<\/pre>\n<p>More generic methods:<\/p>\n<pre class='base2'>\nvar args = Array2.slice(arguments, 1);\n\nvar hrefs = Array2.pluck(document.links, \"href\");\n\nArray2.forEach(document.images, hide);\n<\/pre>","#Summary":"<p>The <code><b>Array2<\/b><\/code> class is a \"pseudo subclass\" of the built-in JavaScript <code>Array<\/code> class. It provides additional methods on both the prototype and the constructor (as generic methods).<\/p>\n<p>You can use <code>Array2<\/code>:<\/p>\n<ul>\n<li>as a constructor to create new augmented arrays<\/li>\n<li>to cast existing arrays to base2 arrays<\/li>\n<li>to cast the built-in <code>Array.prototype<\/code> so that <em>all<\/em> arrays are base2 arrays<\/li>\n<li>as a provider of generic methods, including existing <code>Array<\/code> methods<\/li>\n<\/ul>\n<p>When a built-in object is augmented, if a method already exists then it is not overwritten.<\/p>\n<p class='nb'>The instance methods shown below are platform-specific. You will only see the methods that will be created or overridden.<\/p>","prototype":{"combine":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/combine/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar result = keys.combine(values);\n<\/pre>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/combine/#Notes'); %>"},"forEach":{"#Syntax":"<pre class='base2'>\narray2.forEach(block[, context]);\n<\/pre>","#Summary":"<p>Enumerate the items in an array.<\/p>\r\n<p class='nb'>base2's <code>forEach()<\/code> method is different to Mozilla's.<br><br>\r\n<code>undefined<\/code> values in an array are not enumerated. This is for compatibility with Internet Explorer where it is not possible to implement standard behaviour.<\/p>"},"swap":{"#Examples":"<pre class='base2'>\nvar a2 = new Array2(\"x\", \"y\", \"z\");\na2.swap(0, 1);\nprint(a2);   // =&gt; [\"y\", \"x\", \"z\"]\n<\/pre>","#Syntax":"<pre class='base2'>\narray2.swap(index1, index2);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/swap/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/swap/#Notes'); %>"},"flatten":{"#Syntax":"<pre class='base2'>\nvar result = array2.flatten();\n<\/pre>","#Summary":"<p>Collapse a multi-dimensional array.<\/p>"},"extend":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/extend/#Syntax'); %>"},"copy":{"#Syntax":"<pre class='base2'>\nvar result = array2.copy();\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/copy/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/copy/#Notes'); %>","#Examples":"<% include('/data/doc/entries/base2/JavaScript/Array2/copy/#Examples'); %>"},"insertAt":{"#Syntax":"<pre class='base2'>\narray2.insertAt(index, value);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/insertAt/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/insertAt/#Notes'); %>"},"removeAt":{"#Syntax":"<pre class='base2'>\narray2.removeAt(index);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/removeAt/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/removeAt/#Notes'); %>"},"remove":{"#Syntax":"<pre class='base2'>\narray2.remove(item);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/remove/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/remove/#Notes'); %>"},"indexOf":{"#Syntax":"<pre class='base2'>\r\nvar index = array2.indexOf(item);\r\n<\/pre>"},"lastIndexOf":{"#Syntax":"<pre class='base2'>\r\nvar index = array2.lastIndexOf(item);\r\n<\/pre>"},"contains":{"#Syntax":"<pre class='base2'>\nvar result = array2.contains(item);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/contains/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/contains/#Notes'); %>","#Examples":"<% include('/data/doc/entries/base2/JavaScript/Array2/contains/#Examples'); %>"},"base":{"#Summary":"<% include('/data/doc/entries/base2/Base/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/base/#Syntax'); %>"},"item":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/Array2/item/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Array2/item/#Notes'); %>","#Syntax":"<pre class='base2'>\nvar item = array2.item(index);\n<\/pre>","#Examples":"<p>Retrieve the <em>first<\/em> item in an array:<\/p>\n<pre class='base2'>\nvar first = array2.item(0);\n<\/pre>\n<p>Retrieve the <em>last<\/em> item in an array:<\/p>\n<pre class='base2'>\nvar first = array2.item(-1);\n<\/pre>"}},"copy":{"#Summary":"<p>Returns a copy of an array. The returned array is cast to <code>Array2<\/code>.<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(array);\n<\/pre>"},"flatten":{"#Summary":"<p>Collapse a multi-dimensional array.<\/p>","#Examples":"<pre class='base2'>\nArray2.flatten([1, 2, 3]);      // [1, 2, 3]\nArray2.flatten([1, [2], 3]);    // [1, 2, 3]\nArray2.flatten([[], 2, 3]);     // [2, 3]\nArray2.flatten([[1], 2, 3]);    // [1, 2, 3]\nArray2.flatten([[[[4]]]]);      // [4]\nArray2.flatten([1, [2, [3]]]);  // [1, 2, 3]\nArray2.flatten([[[[[]]]]]);     // []\n<\/pre>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(array);\n<\/pre>"},"like":{"#Summary":"<p>Is the object like an array?<\/p>","#Examples":"<pre class='base2'>\nArray2.like([1, 2, 3]);       // true\nArray2.like(document.links);  // true\nArray2.like(\"string\");        // false\n<\/pre>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(object);\n<\/pre>"},"remove":{"#Summary":"<p>Remove an item from an array.<\/p>","#Examples":"<pre class='base2'>\nvar a2 = new Array2(\"a\", \"b\", \"c\");\na2.remove(\"b\");\n<\/pre>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(array, item);\n<\/pre>"},"removeAt":{"#Summary":"<p>Remove an item from an array by index.<\/p>","#Examples":"<pre class='base2'>\nvar a2 = new Array2(\"a\", \"b\", \"c\");\na2.remove(2);\nprint(a2);  // =&gt; [\"a\", \"c\"]\n<\/pre>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(array, index);\n<\/pre>"},"swap":{"#Summary":"<p>Swap two items in an array.<\/p>","#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(array, index1, index2);\n<\/pre>"},"forEach":{"#Syntax":"<% include('/data/doc/entries/base2/Base/forEach/#Syntax'); %>","#Summary":"<p>Enumerate the items in an array.<\/p>"},"combine":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(keys, values);\n<\/pre>","#Examples":"<pre class='base2'>\nvar hash = Array2.combine([\"a\", \"b\", \"c\"], [1, 2, 3]);\n// =&gt; {a:1, b:2, c:3};\n<\/pre>","#Summary":"<p>Combine two arrays to make a hash (<code>Object<\/code>).<\/p>"},"every":{"#Summary":"<% include('/data/doc/entries/base2/Enumerable/every/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Enumerable/every/#Syntax'); %>"},"filter":{"#Syntax":"<% include('/data/doc/entries/base2/Enumerable/filter/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Enumerable/filter/#Summary'); %>"},"invoke":{"#Syntax":"<% include('/data/doc/entries/base2/Enumerable/invoke/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Enumerable/invoke/#Summary'); %>"},"map":{"#Syntax":"<% include('/data/doc/entries/base2/Enumerable/filter/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Enumerable/map/#Summary'); %>"},"pluck":{"#Syntax":"<% include('/data/doc/entries/base2/Enumerable/pluck/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Enumerable/pluck/#Summary'); %>"},"reduce":{"#Syntax":"<% include('/data/doc/entries/base2/Enumerable/reduce/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Enumerable/reduce/#Summary'); %>"},"some":{"#Syntax":"<% include('/data/doc/entries/base2/Enumerable/some/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Enumerable/some/#Summary'); %>"},"insertAt":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(array, index, value);\n<\/pre>","#Summary":"<p>Inserts an item into the array at the give index.<\/p>"},"indexOf":{"#Syntax":"<pre class='base2'>\nvar index = <% include('/doc/system/method_name'); %>(array, item);\n<\/pre>\n"},"lastIndexOf":{"#Syntax":"<pre class='base2'>\nvar index = <% include('/doc/system/method_name'); %>(array, item);\n<\/pre>"},"reverse":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(array);\n<\/pre>"},"contains":{"#Syntax":"<pre class='base2'>\nvar result = Array2.contains(array, item);\n<\/pre>"},"sort":{"#Syntax":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(array[, compare]);\n<\/pre>"},"slice":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(array[, start[, end]]);\n<\/pre>","#Summary":"<p>Returns a portion of an array (or array-like object).<\/p>"},"base":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/base/#Syntax'); %>"},"join":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(array, string);\n<\/pre>"},"ancestorOf":{"#Syntax":"<% include('/data/doc/entries/base2/Base/ancestorOf/#Syntax'); %>"},"implement":{"#Summary":"<% include('/data/doc/entries/base2/Base/implement/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/implement/#Syntax'); %>"},"item":{"#Summary":"<p>Retrieves an item from an array by its index. If the supplied index is negative then it is treated as the offset from the end of the array.<\/p>","#Syntax":"<pre class='base2'>\nvar item = <% include('/doc/system/method_name'); %>(index);\n<\/pre>","#Examples":"<p>Retrieve the <em>first<\/em> item in an array:<\/p>\n<pre class='base2'>\nvar first = <% include('/doc/system/method_name'); %>(0);\n<\/pre>\n<p>Retrieve the <em>last<\/em> item in an array:<\/p>\n<pre class='base2'>\nvar last = <% include('/doc/system/method_name'); %>(-1);\n<\/pre>"},"#Constructor":"<p>The same as the standard JavaScript Array constructor.<\/p>\n<pre class='base2'>\nvar array = new Array2(1, 2, 3, 4);\n<\/pre>"},"Date2":{"now":{"#Examples":"<pre class='base2'>\nvar start = Date2.now();\nbatchProcess(job);\nprint('time elapsed: ' + Date.now() - start);\n<\/pre>","#Summary":"<p>Returns the current date in milliseconds since the epoch (<code>1970-01-01T00:00:00.0<\/code>).<\/p>","#Syntax":"<pre class='base2'>\nvar now = Date2.now();\n<\/pre>"},"#Examples":"<p>Use the <code>Date2.parse()<\/code> method to parse an ISO date:<\/p>\n<pre class='base2'>\nvar date = Date2.parse(\"2007-07-01T11:33\");\n<\/pre>","#Summary":"<p>The <code><b>Date2<\/b><\/code> class is a \"pseudo subclass\" of the built-in JavaScript Date class. It provides additional methods on both the prototype and the constructor (as generic methods).<\/p>\n<p>You can use Date2:<\/p>\n<ul>\n<li>as a constructor to create new augmented dates<\/li>\n<li>to cast existing dates to base2 dates<\/li>\n<li>to cast the built-in <code>Date.prototype<\/code> so that <em>all<\/em> dates are base2 dates<\/li>\n<li>as a provider of generic methods<\/li>\n<\/ul>","prototype":{"base":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/base/#Syntax'); %>"},"extend":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/extend/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/extend/#Syntax'); %>"},"toISOString":{"#Syntax":"<pre class='base2'>\nvar result = date2.toISOString();\n<\/pre>"}},"toISOString":{"#Syntax":"<pre class='base2'>\nvar result = Date2.toISOString(date);\n<\/pre>","#Summary":"<p>Converts the date object to ISO format.<\/p>"},"parse":{"#Syntax":"<pre class='base2'>\nvar result = Date2.parse(string[, defaultDate]);\n<\/pre>"},"base":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/base/#Syntax'); %>"},"forEach":{"#Summary":"<% include('/data/doc/entries/base2/Base/forEach/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/forEach/#Syntax'); %>"},"ancestorOf":{"#Syntax":"<% include('/data/doc/entries/base2/Base/ancestorOf/#Syntax'); %>"},"implement":{"#Summary":"<% include('/data/doc/entries/base2/Base/implement/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/implement/#Syntax'); %>"},"#Constructor":"<p>The same as the standard JavaScript Date constructor except that you can also pass an ISO string to the constructor.<\/p>\n<pre class='base2'>\nvar date = new Date2(2007, 6, 1);\n<\/pre>\n<pre class='base2'>\nvar date = new Date2(\"2007-06-01T\");\n<\/pre>"},"String2":{"#Examples":"<pre class='base2'>\nvar trimmed = String2.trim(textarea.value);\n<\/pre>\n<pre class='base2'>\nvar values = pluck(myForm.elements, \"value\");\nvar VALUES = Array2.map(values, String2.toUpperCase);\n<\/pre>","#Summary":"<p>The <code><b>String2<\/b><\/code> class is a \"pseudo subclass\" of the built-in JavaScript <code>String<\/code> class. It provides additional methods on both the prototype and the constructor (as generic methods).<\/p>\n<p>You can use <code>String2<\/code>:<\/p>\n<ul>\n<li>as a constructor to create new augmented strings<\/li>\n<li>to cast existing strings to base2 strings<\/li>\n<li>to cast the built-in <code>String.prototype<\/code> so that <em>all<\/em> strings are base2 strings<\/li>\n<li>as a provider of generic methods, including existing <code>String<\/code> methods<\/li>\n<\/ul>","prototype":{"base":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/base/#Syntax'); %>"},"extend":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/extend/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/extend/#Syntax'); %>"},"trim":{"#Syntax":"<pre class='base2'>\nvar result = string.trim();\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/String2/trim/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/String2/trim/#Notes'); %>"},"format":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/String2/format/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar result = string.format(replacement1, replacement2, ..., replacementN);\n<\/pre>","#Examples":"<pre class='base2'>\nformat(\"%1 %2%3 %2a %1%3\", \"she\", \"se\", \"lls\"); // =&gt; \"she sells sea shells\"\n<\/pre>","#Notes":"<p>Only %1 - %9 supported.<\/p>"},"rescape":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/String2/rescape/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar safeString = string.rescape();\n<\/pre>"}},"trim":{"#Summary":"<p>Trim leading and trailing spaces from a string.<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(string);\n<\/pre>"},"toLowerCase":{"#Syntax":"<pre class='base2'>\nvar result = String2.toLowerCase(string);\n<\/pre>"},"toUpperCase":{"#Syntax":"<pre class='base2'>\nvar RESULT = String2.toUpperCase(string);\n<\/pre>"},"indexOf":{"#Syntax":"<pre class='base2'>\nvar index = String2.indexOf(string, substring[, start]);\n<\/pre>"},"lastIndexOf":{"#Syntax":"<pre class='base2'>\nvar index = String2.lastIndexOf(string, substring[, start]);\n<\/pre>"},"base":{"#Summary":"<% include('/data/doc/entries/base2/Base/prototype/base/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/prototype/base/#Syntax'); %>"},"forEach":{"#Syntax":"<% include('/data/doc/entries/base2/Base/forEach/#Syntax'); %>","#Summary":"<% include('/data/doc/entries/base2/Base/forEach/#Summary'); %>"},"ancestorOf":{"#Syntax":"<% include('/data/doc/entries/base2/Base/ancestorOf/#Syntax'); %>"},"implement":{"#Summary":"<% include('/data/doc/entries/base2/Base/implement/#Summary'); %>","#Syntax":"<% include('/data/doc/entries/base2/Base/implement/#Syntax'); %>"},"format":{"#Summary":"<p>Replace <code>%n<\/code> with <code>arguments[n]<\/code>.<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(string, replacement1, replacement2, ..., replacementN);\n<\/pre>","#Examples":"<pre class='base2'>\n<% include('/doc/system/method_name'); %>(\"%1 %2%3 %2a %1%3\", \"she\", \"se\", \"lls\"); // =&gt; \"she sells sea shells\"\n<\/pre>","#Notes":"<p>Only %1 - %9 supported.<\/p>"},"rescape":{"#Summary":"<p>Make a string safe for conversion to a <code>RegExp<\/code>.<\/p>","#Syntax":"<pre class='base2'>\nvar safeString = <% include('/doc/system/method_name'); %>(string);\n<\/pre>"},"#Constructor":"<p>The same as the standard JavaScript String constructor.<\/p>"},"#Summary":"<p>base2.JavaScript is a base2 <a href=\"#/doc/!base2.Package\">Package<\/a> that fixes JavaScript's built-in objects much like <a href=\"#/doc/!base2.DOM\">base2.DOM<\/a> fixes the <abbr title=\"Document Object Model\">DOM<\/abbr>.<\/p>\n<p>It provides these \"pseudo-subclasses\":<\/p>\n<dl>\n<dt><a href=\"#/doc/!base2.JavaScript.Array2\">Array2<\/a><\/dt>\n<dd>Adds support for <a href=\"http://developer.mozilla.org/en/docs/New_in_JavaScript_1.6#Array_and_String_generics\">generics<\/a>, <a href=\"http://developer.mozilla.org/en/docs/New_in_JavaScript_1.6#Array_extras\">array extras<\/a> (<code>forEach()<\/code>, <code>map()<\/code>, <code>reduce()<\/code> etc) and some additional base2 methods.<\/dd>\n<dt><a href=\"#/doc/!base2.JavaScript.Date2\">Date2<\/a><\/dt>\n<dd>Adds support for <a href=\"http://wiki.ecmascript.org/doku.php?id=proposals:date_and_time\">new ES4 methods<\/a> (<code>now()<\/code> and <code>toISOString()<\/code>). The <code>parse()<\/code> method is also ISO-aware.<\/dd>\n<dt><a href=\"#/doc/!base2.JavaScript.Function2\">Function2<\/a><\/dt>\n<dd>Adds functional extensions (<code>bind()<\/code> etc).<\/dd>\n<dt><a href=\"#/doc/!base2.JavaScript.String2\">String2<\/a><\/dt>\n<dd>Adds support for <a href=\"http://developer.mozilla.org/en/docs/New_in_JavaScript_1.6#Array_and_String_generics\">generics<\/a> and adds a <code>trim()<\/code> method.<\/dd>\n<\/dl>\n<p>This package is part of the base2 core. You do not need to include any additional files to use it.<\/p>","Function2":{"K":{"#Examples":"<pre class='base2'>\nfunction Person(name, age) {\n  this.toString = K(name);\n  this.age = age;\n}\n<\/pre>","#Summary":"<p>Returns a function that returns the first argument passed to <code>K<\/code>.<p>","#Syntax":"<pre class='base2'>\nvar result = K(value);\n<\/pre>"},"I":{"#Summary":"<p>Returns the first argument passed to <code>I<\/code>.<p>","#Syntax":"<pre class='base2'>\nvar result = I(value);\n<\/pre>"},"not":{"#Examples":"<pre class='base2'>\nfunction even(number) {\n  return number % 2 == 0;\n}\nvar odd = not(even);\n\nprint(odd(3));  // =&gt; true\n<\/pre>","#Summary":"<p>Returns a function that negates the result of the function passed to it.<\/p>","#Syntax":"<pre class='base2'>\nvar negatedFunc = <% include('/doc/system/method_name'); %>(fn);\n<\/pre>"},"partial":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(fn, argument0, argument1, ..., argumentN);\n<\/pre>","#Summary":"<p>Returns a <em>partially evaluated<\/em> function.<\/p>"},"flip":{"#Summary":"<p>Returns a function that swaps its first two arguments before passing them to the underlying function.<\/p>","#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(fn);\n<\/pre>"},"unbind":{"#Syntax":"<pre class='base2'>\nvar newFunc = unbind(fn);\n<\/pre>","#Summary":"<p>Decouple a method from an object. What would have been the <code>this<\/code> object becomes the first parameter of the new function.<\/p>","#Examples":"<pre class=\"base2\">\nvar concat = unbind(Array.prototype.concat);\nfunction test() {\n  concat(arguments, 4, 5, 6);\n  print(arguments);\n}\ntest(1, 2, 3); // =&gt; 1, 2, 3, 4, 5, 6\n<\/pre>"},"delegate":{"#Syntax":"<pre class='base2'>\nvar result = delegate(fn[, context]);\n<\/pre>"},"II":{"#Summary":"<p>Returns the second argument passed to <code>II<\/code>.<p>","#Syntax":"<pre class='base2'>\nvar result = II(key, value);\n<\/pre>"},"prototype":{"not":{"#Examples":"<% include('/data/doc/entries/base2/JavaScript/Function2/not/#Examples'); %>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/not/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar negatedFunc = fn.not();\n<\/pre>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/not/#Notes'); %>"},"bind":{"#Syntax":"<pre class='base2'>\nvar result = func.bind(object[, argument0, argument1, ..., argumentN]);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/bind/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/bind/#Notes'); %>"},"unbind":{"#Syntax":"<pre class='base2'>\nvar newFunc = fn.unbind();\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/unbind/#Summary'); %>","#Examples":"<% include('/data/doc/entries/base2/JavaScript/Function2/unbind/#Examples'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/unbind/#Notes'); %>"},"partial":{"#Syntax":"<pre class='base2'>\nvar result = fn.partial(argument0, argument1, ..., argumentN);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/partial/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/partial/#Notes'); %>"},"flip":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/flip/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar result = fn.flip();\n<\/pre>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/flip/#Notes'); %>"},"delegate":{"#Syntax":"<pre class='base2'>\nvar result = fn.delegate([context]);\n<\/pre>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/delegate/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/delegate/#Notes'); %>"},"compose":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/compose/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/compose/#Notes'); %>"},"unshift":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/unshift/#Summary'); %>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/unshift/#Notes'); %>"}},"bind":{"#Syntax":"<pre class='base2'>\nvar result = <% include('/doc/system/method_name'); %>(fn, object[, argument0, argument1, ..., argumentN]);\n<\/pre>","#Summary":"<p>Bind a function to an object. The <code>this<\/code> keyword will always refer to the object you pass to the <code>bind()<\/code> function.<\/p>"},"#Constructor":"<p>The same as the standard JavaScript Function constructor.<\/p>"},"bind":{"#Syntax":"<pre class='base2'>\nbase2.JavaScript.bind(host);\n<\/pre>","#Summary":"<p>The <code>bind()<\/code> method can be applied to any JavaScript host object (e.g. the <code>window<\/code> object in a browser environment). After the <code>bind()<\/code> method has been applied, the built-in classes, <code>Array<\/code>, <code>Date<\/code> and <code>String<\/code>, will be upgraded to their base2 equivalents. Prototype objects will be enhanced with missing methods and constructor functions will have their appropriate <a href=\"http://developer.mozilla.org/en/docs/New_in_JavaScript_1.6#Array_and_String_generics\">generic methods<\/a> added.<\/p>","#Examples":"<pre class='base2'>\nfunction even(number) {\n  return number % 2 == 0;\n};\nvar numbers = [1, 2, 3, 4];\n\nnumbers.some(even);         // => true (Mozilla), ERROR (other browsers)\nArray.some(numbers, even);  // => true (Mozilla), ERROR (other browsers)\n\nbase2.JavaScript.bind(window);\n\nnumbers.some(even);         // => true\nArray.some(numbers, even);  // => true\n<\/pre>"},"#Notes":"<p>The JavaScript package is automatically imported into all base2 <a href=\"#/doc/!base2.Package\">Packages<\/a> so you do not need to specify it in the <a href=\"#/doc/!base2.Package::imports\">imports<\/a> option.<\/p>"},"lang":{"assert":{"#Syntax":"<pre class='base2'>\nassert(condition[, errorMessage[, ErrorClass]]);\n<\/pre>","#Summary":"<p>Test a boolean condition and throw an error if it is not met.<\/p>"},"assertType":{"#Syntax":"<pre class='base2'>\nassertType(object, type[, errorMessage]);\n<\/pre>","#Examples":"<p><code>instanceof<\/code> example:<\/p>\n<pre class='base2'>\nassertType(listener, Function, \"Event listener must be a function.\");\nassertType(list, Array);\n<\/pre>\n<p><code>typeof<\/code> example:<\/p>\n<pre class='base2'>\nassertType(fn, \"function\");\nassertType(name, \"string\", \"Name must be a string.\");\n<\/pre>","#Summary":"<p>When the supplied <i>type<\/i> is a function, the supplied <i>object<\/i> must be an instance of that function. Otherwise, <code>typeof <i>object<\/i><\/code> must be equal to <i>type<\/i>.<\/p>"},"assertArity":{"#Syntax":"<pre class='base2'>\nassertArity(args[, arity[, errorMessage]]);\n<\/pre>","#Summary":"<p>Verify the number of arguments that is passed to a function.<\/p>","#Examples":"<p>Ensure that <em>all<\/em> arguments are passed to a function:<\/p>\n<pre class='base2'>\nfunction addEvent(target, type, handler) {\n  assertArity(arguments);\n  // add the event handler\n};\n<\/pre>\n\n<p>Define the minimum number of arguments required:<\/p>\n<pre class='base2'>\nfunction addEvent(target, type, handler, useCapture) {\n  assertArity(arguments, 3); // useCapture will default to false\n  // add the event handler\n};\n<\/pre>"},"typeOf":{"#Summary":"<p>A replacement for JavaScripts <code>typeof<\/code> operator.<\/p>\n<ul>\n<li>correctly returns \"function\" for Microsoft COM methods<\/li>\n<li>returns \"object\" for RegExps on a Mozilla platform<\/li>\n<li>returns \"null\" for <code>null<\/code> values<\/li>\n<\/ul>","#Syntax":"<pre class=\"base2\">\nvar type = typeOf(object);\n<\/pre>","#Examples":"<pre class=\"base2\">\ntypeOf(null);     // =&gt; \"null\"\ntypeOf(/RegExp/); // =&gt; \"object\"\n<\/pre>"},"instanceOf":{"#Summary":"<p>Handle exceptions where the target object originates from another frame.\nThis is handy for JSON parsing (amongst other things).<\/p>","#Syntax":"<pre class='base2'>\nvar result = instanceOf(object, func);\n<\/pre>","#Examples":"<pre class='base2'>\nframes[0].contentWindow.data instanceof Array   // => false\ninstanceOf(frames[0].contentWindow.data, Array) // => true\n<\/pre>"},"forEach":{"#Syntax":"<pre class='base2'>\nforEach (object, block[, context]);\n<\/pre>","#Summary":"<p>Enumerate any object according to its type.<\/p>\n<p>The <code>forEach<\/code> function allows us to enumerate any object according to its type.\nIf the object is array-like (has a length property) then we enumerate it like an <code>Array<\/code>.\nAll other objects are enumerated using the standard <code>for var x in y<\/code> mechanism.<\/p>\n<p>When enumerating over objects, the discovered keys are compared against <code>Object.prototype<\/code>.\nIf the key is defined on <code>Object.prototype<\/code> then it is ignored.\nThat means that you cannot enumerate the built-in properties like <code>toString<\/code> and <code>valueOf<\/code>. When enumerating functions, keys are compared against <code>Function.prototype<\/code>. If you choose to enumerate over a <code>Function<\/code> object you will skip the built-in properties there too.<\/p>\n<p>An optional fourth parameter defines a function whose prototype the discovered keys are compared against. This is handy for reflection of base2 classes.<\/p>","#Examples":"<p>Enumarate an array:<\/p>\n<pre class='base2'>\nforEach ([1, 2, 3], print);\n<\/pre>\n<p>Enumarate an object:<\/p>\n<pre class='base2'>\nforEach ({a: 1, b: 2, c: 3}}, print);\n<\/pre>\n<p>Enumarate a DOM NodeList:<\/p>\n<pre class='base2'>\nforEach (document.links, function(link) {\n  link.className = \"super-link\";\n});\n<\/pre>\n<p>Enumarate without knowing what you are enumerating:<\/p>\n<pre class='base2'>\nfunction printAll() {\n  forEach (arguments, function(object) {\n    forEach (object, print); \n  });\n};\n<\/pre>\n<p>Enumerate an object and compare its keys with its constructor:<\/p>\n<pre class='base2'>\n// create a class\nfunction Person(name, age) {\n  this.name = name || \"\";\n  this.age = age || 0;\n};\nPerson.prototype = new Person;\n\n// instantiate the class\nvar fred = new Person(\"Fred\", 38);\n\n// add some custom properties\nfred.language = \"English\";\nfred.wife = \"Wilma\";\n\nforEach (fred, print, null, Person);\n// => language: English\n// => wife: Wilma\n<\/pre>","#Notes":"<p>The <code>forEach<\/code> function offers safe and consistent enumeration across platforms.<\/p>"},"extend":{"#Summary":"<p>This is the global <code>extend()<\/code> method.<\/p>","#Syntax":"<p>Extend with a key/value pair:<\/p>\n<pre class='base2'>\nextend(object, propertyName, propertyValue);\n<\/pre>\n<p>Extend with an object literal:<\/p>\n<pre class='base2'>\nextend(object, {propertyName: propertyValue});\n<\/pre>","#Examples":"<%-- empty --%>","#Notes":"<p>When using the <code>extend()<\/code> method you can take advantage of <a href='#/doc/!base2.detect'>dynamic object detection<\/a>.<\/p>"},"match":{"#Summary":"<p>Same as <code>String.match()<\/code> except that this function will return an empty array if there is no match.<\/p>","#Syntax":"<pre class='base2'>\nvar result = match(string, pattern);\n<\/pre>"},"rescape":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/String2/rescape/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar safeString = rescape(string);\n<\/pre>"},"trim":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/String2/trim/#Summary') %>","#Syntax":"<pre class='base2'>\nvar result = trim(string);\n<\/pre>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/String2/trim/#Notes') %>"},"format":{"#Examples":"<pre class='base2'>\nformat(\"%1 %2%3 %2a %1%3\", \"she\", \"se\", \"lls\"); // =&gt; \"she sells sea shells\"\n<\/pre>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/String2/format/#Notes'); %>","#Summary":"<% include('/data/doc/entries/base2/JavaScript/String2/format/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar result = format(string, replacement1, replacement2, ..., replacementN);\n<\/pre>"},"copy":{"#Syntax":"<pre class='base2'>\nvar result = copy(object);\n<\/pre>","#Summary":"<p>Makes a shallow copy of an object.<\/p>"},"pcopy":{"#Summary":"<p>Copy an object using the original object as a prototype.<\/p>","#Syntax":"<pre class=\"base2\">\nvar result = pcopy(object);\n<\/pre>","#Notes":"<p>Because the new object has the original object as its prototype, changes to the original object may be reflected in the new object.<\/p>"},"#Summary":"<p>A package containing core functions used throughout the base2 library.<\/p>\n<p>This package is part of the base2 core. You do not need to include any additional files to use it.<\/p>","#Notes":"<p>The lang package is automatically imported into all base2 <a href=\"#/doc/!base2.Package\">Packages<\/a> so you do not need to specify it in the <a href=\"#/doc/!base2.Package::imports\">imports<\/a> option.<\/p>","bind":{"#Summary":"<% include('/data/doc/entries/base2/JavaScript/Function2/bind/#Summary'); %>","#Syntax":"<pre class='base2'>\nvar bound = bind(fn, object[, argument0, argument1, ..., argumentN]);\n<\/pre>","#Notes":"<% include('/data/doc/entries/base2/JavaScript/Function2/bind/#Notes'); %>"}},"This":{"#Summary":"<p>Always returns <code>this<\/code>.<p>"},"userAgent":{"#Summary":"<p>base2 creates its own <code>userAgent<\/code> string for easy pattern matching<\/p>\n<ol>\n<li>Platform prepended to user agent string<\/li>\n<li>Bogus \"MSIE\" indicators removed <\/li>\n<li>Spaces and \"/\" characters removed between words and numbers. e.g. \"MSIE 6.0\" becomes \"MSIE6.0\".<\/li>\n<li>\"Like xyz browser\" strings removed<\/li>\n<\/ol>"},"version":{"#Summary":"<p>The current version number.<\/p>"}},"global":{"#Summary":"<p>Provides a reference to the global object (the <code>window<\/code> object in browser environments).<\/p>"}}}
</script>
<script type="text/javascript">
MiniWeb.$$.data.blog={"posts":{"Welcome":{"Title":"Welcome!","Content":"<p>Welcome to MiniBlog!<\/p>\n<p>This blog is a sample MiniWeb application. It has its own look and feel separate from the MiniWeb core. The posting mechanism is a simple <abbr>HTML<\/abbr> form.<\/p>","Categories":"","Timestamp":"2006-12-03T04:18:32","Format":"HTML","Slug":"Welcome"},"Expand_This_Blog":{"Title":"Expand This Blog!","Content":"<p>The MiniWeb blog application is only partially complete. Do you want to finish it? The following features are incomplete:<\/p>\n<ul>\n<li>blog categories<\/li>\n<li>search<\/li>\n<li>better navigation (archives)<\/li>\n<li>a better theme!<\/li>\n<\/ul>\n<p>Send your improved MiniBlog to <a href='mailto:dean@edwards.name'>dean@edwards.name<\/a>.<\/p>","Categories":"","Timestamp":"2007-04-26T20:35:41","Format":"HTML","Slug":"Expand_This_Blog"}},"Preferences":{},"Properties":{"Author":"[ your name goes here ]","Copyright":"&copy; [ copyright info goes here ]","title":"A Sample MiniBlog","default":"<% process('/system/record', path); %>"},"categories":{"General":"","JavaScript":"","Base":""}}
</script>
