<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>base2: Enumeration Test</title>
  <script src="../lib/base2-legacy-p.js" type="text/javascript"></script>
  <script src="../lib/base2-p.js" type="text/javascript"></script>
 </head>
 <body>
  <h1>Enumerable Module: Test Page</h1>
  <script type="text/javascript">
	eval(base2.namespace);
	var p = "<p>%1: %2, [%3], %4</p>";
	var h = "<h%2>%1</h%2>";
	var sum = function(total, value, key, object){
		document.write(format(p, key, value, object, this));
		return total + value;
	}
	var test = function(object) {
		var result = reduce(object, sum, 0, "fred");
		document.write(format(h, result == 6 ? "Pass" : "Fail", 3));
	};
	test([0, 1, 2, 3]);
	test({a:0, b:1, c:2, d:3});
  </script>
 </body>
</html>
